<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="[2019BUAA软件工程]结对作业写在前面   Tips Link     作业链接 [2019BUAA软件工程]结对作业   GitHub地址 WordChain     Personal Software Process 记录&amp;emsp;&amp;emsp;以下为对本次作业各部分用时的估计与实际使用情况：       Personal Software Process Stages    预计耗时（">
<meta property="og:type" content="article">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://yoursite.com/2019/03/28/结对作业博客/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="[2019BUAA软件工程]结对作业写在前面   Tips Link     作业链接 [2019BUAA软件工程]结对作业   GitHub地址 WordChain     Personal Software Process 记录&amp;emsp;&amp;emsp;以下为对本次作业各部分用时的估计与实际使用情况：       Personal Software Process Stages    预计耗时（">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2019-03-14T10:41:23.080Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hexo">
<meta name="twitter:description" content="[2019BUAA软件工程]结对作业写在前面   Tips Link     作业链接 [2019BUAA软件工程]结对作业   GitHub地址 WordChain     Personal Software Process 记录&amp;emsp;&amp;emsp;以下为对本次作业各部分用时的估计与实际使用情况：       Personal Software Process Stages    预计耗时（">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-结对作业博客" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/03/28/结对作业博客/" class="article-date">
  <time datetime="2019-03-28T04:34:10.636Z" itemprop="datePublished">2019-03-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="2019BUAA软件工程-结对作业"><a href="#2019BUAA软件工程-结对作业" class="headerlink" title="[2019BUAA软件工程]结对作业"></a>[2019BUAA软件工程]结对作业</h1><h2 id="写在前面"><a href="#写在前面" class="headerlink" title="写在前面"></a>写在前面</h2><table>
<thead>
<tr>
<th style="text-align:left">Tips</th>
<th style="text-align:left">Link</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">作业链接</td>
<td style="text-align:left"><a href="https://edu.cnblogs.com/campus/buaa/BUAA_SE_2019_LJ/homework/2638" target="_blank" rel="noopener">[2019BUAA软件工程]结对作业</a></td>
</tr>
<tr>
<td style="text-align:left">GitHub地址</td>
<td style="text-align:left"><a href="https://github.com/Cookize/WordChain" target="_blank" rel="noopener">WordChain</a></td>
</tr>
</tbody>
</table>
<hr>
<h2 id="Personal-Software-Process-记录"><a href="#Personal-Software-Process-记录" class="headerlink" title="Personal Software Process 记录"></a>Personal Software Process 记录</h2><p>&emsp;&emsp;以下为对本次作业各部分用时的估计与实际使用情况：  </p>
<table><br><tr><br>    <th colspan="2">Personal Software Process Stages</th><br>    <th>预计耗时（分钟）</th><br>    <th>实际耗时（分钟）</th><br></tr><br><tr><br>    <th rowspan="2">Planning</th><br>    <td>Estimate</td><br>    <td>20</td><br>    <td>20</td><br></tr><br><tr><br>    <td>Total</td><br>    <td>20</td><br>    <td>20</td><br></tr><br><tr><br>    <th rowspan="9">Development</th><br>    <td>Analysis</td><br>    <td>60</td><br>    <td>60</td><br></tr><br><tr><br>    <td>Design Spec</td><br>    <td>60</td><br>    <td>50</td><br></tr><br><tr><br>    <td>Design Review</td><br>    <td>40</td><br>    <td>40</td><br></tr><br><tr><br>    <td>Coding Standard</td><br>    <td>20</td><br>    <td>15</td><br></tr><br><tr><br>    <td>Design</td><br>    <td>120</td><br>    <td>300</td><br></tr><br><tr><br>    <td>Coding</td><br>    <td>360</td><br>    <td>600</td><br></tr><br><tr><br>    <td>Code Review</td><br>    <td>120</td><br>    <td>100</td><br></tr><br><tr><br>    <td>Test</td><br>    <td>420</td><br>    <td>600</td><br></tr><br><tr><br>    <td>Total</td><br>    <td>1200</td><br>    <td>1600</td><br></tr><br><tr><br>    <th rowspan="4">Reporting</th><br>    <td>Test Report</td><br>    <td>90</td><br>    <td>120</td><br></tr><br><tr><br>    <td>Size Measurement</td><br>    <td>30</td><br>    <td>40</td><br></tr><br><tr><br>    <td>Postmortem &amp; Process Improvement Plan</td><br>    <td>30</td><br>    <td>40</td><br></tr><br><tr><br>    <td>Total</td><br>    <td>180</td><br>    <td>200</td><br></tr><br><tr><br>    <th colspan="2" text-align="center">Total<br>    </th><td>1400</td><br>    <td>1820</td><br></tr><br></table>

<hr>
<h2 id="模块化设计思想"><a href="#模块化设计思想" class="headerlink" title="模块化设计思想"></a>模块化设计思想</h2><h3 id="信息隐藏（Information-Hiding）"><a href="#信息隐藏（Information-Hiding）" class="headerlink" title="信息隐藏（Information Hiding）"></a>信息隐藏（Information Hiding）</h3><blockquote>
<p>&emsp;<em>In computer science, information hiding is the principle of segregation of the design decisions in a computer program that are most likely to change, thus protecting other parts of the program from extensive modification if the design decision is changed. The protection involves providing a stable interface which protects the remainder of the program from the implementation (the details that are most likely to change).</em></p>
</blockquote>
<p>&emsp;&emsp;简而言之，信息隐藏就是在设计与实现模块时，限制其他模块对该模块内包含的特定信息的访问进行限制。满足信息隐藏的模块需要自行维护内部的数据结构和运算逻辑，并且要保证不会因为外部的操作而影响内部的所有逻辑结构的运行，使自身处于在可控制的范围，具有更高的稳定性。<br>&emsp;&emsp;对于整个计算模块Core，外层（控制台、GUI）无法对其中的数据结构进行操作，保证了计算模块与外层的信息隐藏。计算模块Core内部的数据类WordList和运算逻辑类Solve/DPSolve之间也存在信息隔离。数据类没有操作运算逻辑类的权限；运算逻辑类只能通过数据类提供的合法接口间接操作、获取数据。</p>
<h3 id="接口设计（Interface-Design）"><a href="#接口设计（Interface-Design）" class="headerlink" title="接口设计（Interface Design）"></a>接口设计（Interface Design）</h3><blockquote>
<p>&emsp;<em>Good user interface design facilitates finishing the task at hand without drawing unnecessary attention to itself.</em></p>
</blockquote>
<p>&emsp;&emsp;对于模块接口的设计应当使外层只关注于模块虽提供的功能、接口的输入以及产生的效果，而非模块内层的实现逻辑。接口的作用体现在对代码进行修改的时候：在修改某一模块的内部逻辑时，只需保证对外接口不变就无需修改外层代码。合适的接口设计提高了工程的可重构性、可延展性，降低了维护的难度。  </p>
<p>&emsp;&emsp;对于计算模块Core的接口，外层只需考虑输入计算的单词集合以及相应的运算模式参数就能够获得最终结果或者错误提示。对于数据类提供的接口，其他模块只需按照其需要获取的信息选择不同的接口函数并输入参数就能获取到搜索结果。</p>
<hr>
<h3 id="降低耦合（Loose-Coupling）"><a href="#降低耦合（Loose-Coupling）" class="headerlink" title="降低耦合（Loose Coupling）"></a>降低耦合（Loose Coupling）</h3><blockquote>
<p>&emsp;<em>In computing and systems design a loosely coupled system is one in which each of its components has, or makes use of, little or no knowledge of the definitions of other separate components. Subareas include the coupling of classes, interfaces, data, and services.Loose coupling is the opposite of tight coupling.</em></p>
</blockquote>
<p>&emsp;&emsp;模块间的耦合度是指模块之间的依赖关系，包括控制关系、调用关系、数据传递关系。耦合的强弱取决于模块间接口的复杂性、调用模块的方式以及通过界面传送数据的多少。模块间联系越多，其耦合性越强，同时表明其独立性越差。</p>
<p>&emsp;&emsp;计算模块中的耦合主要体现在运算模块和单词数据存储模块。由于运算模块是基于单词数据模块构建的，运算模块的很多函数需要适应于单词模块提供的接口。运算模块依赖于单词模块是较难避免的。但单词模块对运算模块的依赖就较低。单词模块只需完成自身数据维护和提供查询接口即可，无需依赖其他模块。因而在计算模块中，单词模块的设计使其能复用给两个运算模块作为数据源。</p>
<hr>
<h2 id="计算模块接口的设计与实现过程"><a href="#计算模块接口的设计与实现过程" class="headerlink" title="计算模块接口的设计与实现过程"></a>计算模块接口的设计与实现过程</h2><h3 id="对外接口设计："><a href="#对外接口设计：" class="headerlink" title="对外接口设计："></a>对外接口设计：</h3><ul>
<li>接口：</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">gen_chain_word</span><span class="params">(<span class="keyword">char</span>* words[], <span class="keyword">int</span> len, <span class="keyword">char</span>* output, <span class="keyword">char</span> head, <span class="keyword">char</span> tail, <span class="keyword">bool</span> enable_loop)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">gen_chain_char</span><span class="params">(<span class="keyword">char</span>* words[], <span class="keyword">int</span> len, <span class="keyword">char</span>* output, <span class="keyword">char</span> head, <span class="keyword">char</span> tail, <span class="keyword">bool</span> enable_loop)</span></span>;</span><br></pre></td></tr></table></figure>
<ul>
<li>参数解释：<ul>
<li><em>char\</em> words[]*：传入单词集合。</li>
<li><em>char\</em> output[]*：输出单词链。</li>
<li><em>int len</em>：输入单词集合长度。</li>
<li><em>char head</em>：单词链首字母限制。无限制输入<strong>0</strong>，有限制则输入相应英文字符。</li>
<li><em>char tail</em>：单词链首字母限制。无限制输入<strong>0</strong>，有限制则输入相应英文字符。</li>
<li><em>bool enable_loop</em>：单词环限制。允许存在单词换为<strong>true</strong>，否则为<strong>false</strong>。</li>
<li>返回值：返回搜得最长单词链长度或错误码。</li>
</ul>
</li>
</ul>
<h3 id="类功能设计："><a href="#类功能设计：" class="headerlink" title="类功能设计："></a>类功能设计：</h3><ol>
<li>Core：内外层交互类<ul>
<li>实现计算模块与外层（Console或GUI模块）交互逻辑。</li>
<li>接收外层的原始数据和相应参数。</li>
<li>对接收到的原始数据进行预处理：<ul>
<li>从原始数据中提取出单词。</li>
<li>过滤重复单词。</li>
<li>将有效单词按首尾字母归类，存入单词库中。</li>
<li>更新单词库中单词链接矩阵。</li>
</ul>
</li>
<li>按照指定模式组织内层计算逻辑。</li>
<li>返回内层计算结果。</li>
</ul>
</li>
<li>Solve/DPSolve：核心计算类<ul>
<li>实现对已有单词库搜索单词链的算法。</li>
<li>核心算法：优化BFS（有单词环）和动态规划（无单词环）。</li>
<li>辅助算法：拓扑排序（检查是否存在单词环）。</li>
</ul>
</li>
<li>WordList：数据类<ul>
<li>格式化存储单词。</li>
<li>将单词链接关系组织为邻接矩阵。</li>
<li>提供相应的查询函数。</li>
</ul>
</li>
</ol>
<h3 id="类流程关系"><a href="#类流程关系" class="headerlink" title="类流程关系"></a>类流程关系</h3><ol>
<li>Core获取原始数据与运行参数。</li>
<li>Core预处理原始数据，生成单词库（WordList）。</li>
<li>按照参数启动Solve/DPSolve相应计算函数。</li>
<li>完成单词链搜索，Core输出计算结果。</li>
</ol>
<p><code>流程图</code></p>
<h3 id="类关键函数设计及实现"><a href="#类关键函数设计及实现" class="headerlink" title="类关键函数设计及实现"></a>类关键函数设计及实现</h3><ol>
<li>Core：<ul>
<li>关键函数：<ul>
<li><em>gen_chain_word()</em>：按单词数量搜索单词链时的对外接口。</li>
<li><em>gen_chain_char()</em>：按单词长度搜索单词链时的对外接口。</li>
</ul>
</li>
</ul>
</li>
<li>WordList：<ul>
<li>存储结构设计思路：  <ol>
<li>单词表组织：<br>&emsp;&emsp;将消除重复后的单词按照首尾字母进行归类。比如：<em>apple</em>归类为<em>ae类单词</em>。为每一种类的单词建立数组存储，每个数组内的同种单词按照长度降序排列。对存储每一种类单词的数组按照<strong>HASH表</strong>存储至一维数组中。</li>
<li>辅助结构组织：<br>&emsp;&emsp;根据已经建立的单词表，将字母视为节点，单词视为由首字母结点指向尾字母的有向边，则能够将单词表组织为有向图。使用<strong>位图（BitMap）</strong>存储邻接矩阵，使用HASH数组存储各结点的入度。</li>
<li>类中的索引均采用HASH函数：<em>Index = 首字母相对’a’偏移 \</em> 26 + 尾字母相对’a’偏移*</li>
</ol>
</li>
<li>成员变量：<ul>
<li>m_list：单词表，按照<strong>首尾字母的种类</strong>对单词进行分组储存，存储采用HASH结构，<strong>不存在重复单词</strong>，同种类单词按照长度由长至短排列。</li>
<li>m_iListSize：单词表长度，存储不同首尾字母的单词数量。</li>
<li>m_iListGetPoint：单词检索索引，存储已检索的单词的索引。</li>
<li>m_iArryMatrix[]：单词链邻接矩阵。</li>
<li>m_iArrayNodeIn[]：结点入度数组。</li>
</ul>
</li>
<li>关键函数：<ul>
<li><em>parseString()</em>：<ul>
<li>解析字符串，提取单词。</li>
<li>调用私有函数addWord添加单词。</li>
</ul>
</li>
<li><em>getWordAt()</em>：<ul>
<li>获取符合首尾条件的单词。</li>
</ul>
</li>
<li><em>getWordSumAt()</em>：<ul>
<li>获取符合首尾条件的单词<strong>总数量</strong>。</li>
</ul>
</li>
<li><em>getNodeIn()</em>：<ul>
<li>获取单词链图某一首字母结点的入度。</li>
</ul>
</li>
<li><em>getNodeOut()</em>：<ul>
<li>获取单词链图某一首字母结点的出度。</li>
</ul>
</li>
<li><em>getNodeNext()</em>：<ul>
<li>获取单词链图某一首字母结点的邻接矩阵项。</li>
</ul>
</li>
<li><em>addWord()</em>：<em>“private”</em><ul>
<li>过滤重复单词，将有效单词添加至单词表相应分类。</li>
<li>保证添加后各分类内单词长度降序排列。</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>Solve：<ul>
<li>设计思路<br>&emsp;&emsp;使用深度优先搜索加剪枝策略，解决了头尾限定问题，以及属于单词序列中存在环时得问题。</li>
<li>成员变量：<ul>
<li>m_iSigned26: 标记两个字母之间的路径是否以及走过</li>
<li>m_ihead[26]: 标记每个字母是否以及用过</li>
<li>m_ans676: 记录单词是否使用的变量</li>
<li>next_tag26: 储存字母邻接链表</li>
<li>max_dfs[26]: 记录每个单词距离终点的最大距离</li>
<li>final_dfs[26] 记录最终的每个字母节点距离其重点的距离</li>
<li>m_FinalLen: 单词链最终长度</li>
<li>m_TemLen: 搜索到的当前字符链的长度</li>
<li>max_num: 单词链个数最大长度</li>
<li>temp_num 搜索到的单词链表当前个数</li>
<li>bool is_circle: 判断是否有环</li>
<li>head: 确定头部字母记录下的头部字母</li>
<li>char m_Mode: 记录搜索模式的变量</li>
<li>char m_ModeHead: 记录搜索的时指定的头部</li>
<li>char m_ModeTail: 记录搜索的时指定的尾部</li>
<li>bool m_ModeRing: 记录搜索模式是否有环</li>
<li>vector <string> m_FinalChain: 最终结果</string></li>
<li>vector <string> m_TempChain: 当前路径</string></li>
</ul>
</li>
<li>关键方法<ul>
<li><em>Solve1()</em>: 解决允许有环时的搜索问题</li>
<li><em>Solve2_he()</em>: 解决无环时的指定头尾的搜索问题</li>
<li><em>Dfs_solve1()</em>: 解决允许有环时的搜索问题的搜索函数</li>
<li><em>cmp()</em>: 允许有环的时候对当前最大长度的更新函数</li>
<li><em>printChain()</em>: 允许有环的时候的输出函数</li>
<li><em>Dfs_solvehe()</em>: 指定头尾问题的搜索问题的递归搜索函数</li>
<li><em>cmp_he()</em>: 解决头尾指定问题时候 对当前最大长度进行更新的函数</li>
<li><em>printhe()</em>: 解决头尾指定问题时候 的输出问题</li>
</ul>
</li>
</ul>
</li>
<li>DPSolve:<ul>
<li>实现思路：  <ul>
<li>使用<strong>动态规划</strong>解决无单词环情况下除同时限定单词链首尾的问题。根据限制条件的不同采取正向或逆向动态规划。</li>
</ul>
</li>
<li>动态规划：<ul>
<li>正向递推式：<em>F(c1)=max{F(c1)+len(c1ci)}</em>或<em>F(c1)=max{F(c1)+len(c1ci)}</em></li>
<li>逆向递推式：<em>f(c1)=max{f(c1)+len(cic1)}</em>或<em>f(c1)=max{f(c1)+len(cic1)}</em></li>
<li>F(c)为由c开始的最长单词链长度。</li>
<li>f(c)为以c结束的最长单词链长度。</li>
<li>len(cicj)是以ci为首以cj为尾的最长单词长度。</li>
</ul>
</li>
<li>单词环检测：<ul>
<li>使用拓扑排序算法检测单词环，保证动态规划正确进行。</li>
</ul>
</li>
<li>成员变量：<ul>
<li>m_ptrWordList：单词表指针。</li>
<li>m_cMode：搜索模式，分为按数量和按程度。</li>
<li>m_cModeHead：头部限定。</li>
<li>m_cModeTail：尾部限定。</li>
<li>m_iArrayDp[]：动态规划结果。</li>
<li>m_iArrayNext[]：存储相应结点的最优后继结点。</li>
<li>m_iArrayBefore[]：存储相应结点的最优前缀结点。</li>
</ul>
</li>
<li>m_iQueueTopo：拓扑排序结果。<ul>
<li>m_strVecWordChain：存储计算得到的单词链。</li>
</ul>
</li>
<li>关键方法：<ul>
<li><em>DPSolve()</em>：构造函数，传入单词表和各种参数。</li>
<li><em>startDPSolve()</em>：启动函数。</li>
<li><em>topoSort()</em>：拓扑排序，检查单词表中是否有环。</li>
<li><em>getWordChain()</em>：导出计算后的结果。</li>
<li><em>DPStep(int indexH)</em>：正向动态规划子函数，私有函数。</li>
<li><em>DPStepRe(int indexH)</em>：逆向动态规划子函数，私有函数。</li>
</ul>
</li>
</ul>
</li>
</ol>
<hr>
<h2 id="UML设计"><a href="#UML设计" class="headerlink" title="UML设计"></a>UML设计</h2><p><code>UML图</code></p>
<hr>
<h2 id="计算模块接口部分的性能改进"><a href="#计算模块接口部分的性能改进" class="headerlink" title="计算模块接口部分的性能改进"></a>计算模块接口部分的性能改进</h2><ul>
<li>第一阶段：<strong>深度搜索</strong>实现基本功能</li>
</ul>
<p>&emsp;&emsp;笔者在最初进行程序设计时采取的是使用简洁的方法先实现需求的所有功能，再根据实际运行情况优化算法。根据这样的初衷产生了如下的流程设计。<br>&emsp;&emsp;首先，将所有单词按照<strong>首尾字母</strong>进行分类。以字母为结点，以单词为有向边（由单词首字母结点指向尾字母节点），将单词表构造成图结构。如此组织单词表可以很好地对需求中的问题进行简化和抽象：无单词环时，很容易证明<strong>每个结点间最多单向经过一次</strong>。比如’a’、’b’两结点最多仅能有一个有向边。于是便可以将问题转化为在构造的图中<strong>搜索最长路径</strong>。对于‘-w’功能则是将边权重设置为‘1’；对于‘-c’功能则是将边权重设置为该边对应类型单词中最长的单词长度；而‘-t’和‘-h’功能则是增加了首尾节点的限制。而对于有单词环的情况，每个结点间可经过的方向及其次数等于其所对应种类的单词数量，运用深度搜索也同样能够解决相应的问题。<br>&emsp;&emsp;在搜索阶段，程序对每个节点进行深度搜索，搜索以该结点为首的最长路径，并根据不同的输入参数得出符合要求的单词链。最终通过接口完成结果的输出。</p>
<ul>
<li>第二阶段：<strong>动态规划</strong>优化部分功能</li>
</ul>
<p>&emsp;&emsp;笔者的小组在较短时间内就完成了基于深度搜索的单词链搜索程序。在通过正确性测试并进行性能测试后，不出意料的出现的运行效率低的问题。运行效率低的主要原因是原始深度遍历不具有记忆和预测功能。这会导致在进行多次遍历时会对以搜索的路径和明显不是最优解的路径进行遍历。会经过分析后，我们决定采取以下方案对程序进行优化。<br>&emsp;&emsp;对于无单词环并且不同时限定首尾的情况，废弃原先的方法转而采用动态规划的方法。这几个搜索最长单词链的问题可以分解为求解与其相连的字母的最长单词链加上两者间距离的最大值。比如正向动态规划时，求解以’a’为首的最长单词链，而’b’、’c’结点可以由’a’结点直接到达，则原问题的最优解为子问题’b’、’c’的最优解分别加上’a’到这些结点的边的权值。用公式表示为:<br><code>正向递推式：F(c1)=max{F(c1)+len(c1ci)}*或*F(c1)=max{F(c1)+len(c1ci)}</code><br><code>逆向递推式：f(c1)=max{f(c1)+len(cic1)}*或*f(c1)=max{f(c1)+len(cic1)}</code><br>&emsp;&emsp;在使用动态规划后，程序将无单词环并且不同时限定首尾的情况的计算压缩至了1s内，基本满足了要求。</p>
<ul>
<li>第三阶段：<strong>优化深度搜索</strong></li>
</ul>
<p>&emsp;&emsp;在进行动态规划的优化之后，我们发现，动态规划虽然效率很高，但是并不能处理同时指定头和尾的问题，于是我们仿照动态规划表达式的思想，对于我们的深度优先搜索做了一步剪枝。具体的剪枝思想如下：<br>&emsp;&emsp;在搜索回退的时候，用一个数组，记录下每个字母距离其末尾的最大长度，或者最大单词个数，当第二次搜索到这个字母节点时，直接比较当前长度，当前节点距离末尾的最大长度，如果前者比后者小，直接剪掉这个分支。保证了每条边只搜索了一遍，极大的提高了深度优先搜索的效率。</p>
<ul>
<li>性能测试：</li>
</ul>
<p><code>插入图片</code></p>
<p>&emsp;&emsp;上图为在无单词环的情况下进行的约九千单词量的性能测试结果。由图可知，在进行vector操作上的消耗较多。消耗最多的代码是在addWord函数中将新单词加入至<strong>有序单词表</strong>的操作时采用了vector的insert函数。这一消耗仅出现在预处理的部分，在保证单词表中的单词是按照长度降序排列的同时还过滤了重复的单词。该操作虽然带来了一定的损耗，但是组织好的单词表更易于计算过程的检索，降低了检索的复杂度，防止递归导致的消耗的放大。计算过程采用的动态规划算法大大减小了该阶段的消耗。</p>
<p><code>插入图片</code></p>
<p>&emsp;&emsp;上图为在有单词环的情况下进行的性能测试。CPU的消耗主要出在递归调用的函数Dfs_solve1中。</p>
<hr>
<h2 id="契约式设计体现"><a href="#契约式设计体现" class="headerlink" title="契约式设计体现"></a>契约式设计体现</h2><h3 id="契约式编程-amp-防御式编程"><a href="#契约式编程-amp-防御式编程" class="headerlink" title="契约式编程 &amp; 防御式编程"></a>契约式编程 &amp; 防御式编程</h3><p>&emsp;&emsp;提到契约式编程就不能不说防御式编程。在实现某一模块时，对于异常输入的处理一般有以下两种处理方式：</p>
<ol>
<li><em>兼容处理所有情况，保证程序正确执行完成。</em></li>
<li><em>识别并抛出不符合要求的情况，告知外层找出错误原因。</em></li>
</ol>
<p>&emsp;&emsp;前者就是防御是编程思想，后者就是契约式编程思想。契约式编程思想是在每个模块间建立明确的“责任”和“义务”关系。每个模块在使用其他模块的接口时都有责任保证使用的正确性，<strong>即符合接口的先验条件等</strong>；而在满足了先验条件的情况下，被调用模块有义务保证执行功能的正确性，<strong>即满足接口的后验条件和不变式等</strong>。契约的内容常体现于以下方面（来自维基百科）：</p>
<blockquote>
<ul>
<li>可接受和不可接受的值或类型，以及它们的含义</li>
<li>返回的值或类型，以及它们的含义</li>
<li>可能出现的错误以及异常情况的值和类型，以及它们的含义</li>
<li>副作用</li>
<li>先验条件</li>
<li>后验条件</li>
<li>不变条件</li>
<li>性能上的保证，如所用的时间和空间</li>
</ul>
</blockquote>
<h4 id="简析契约式编程："><a href="#简析契约式编程：" class="headerlink" title="简析契约式编程："></a>简析契约式编程：</h4><ul>
<li><p>优点：</p>
<ol>
<li><strong>简化代码</strong><br>防御式编程需要在实现正常功能之余，为防御外来的不合法情况进行判断和处理，以保证功能的正常运行。因此需要在每个子功能内增加大量的代码。而契约式编程由于有先验条件，被调用者减少了处理的代码，使每个子功能的逻辑简洁而清晰，实现每个子功能代码的轻量化。</li>
<li><strong>增强程序的健壮性</strong><br>在一定程度上简化代码就能大大减小Bug的出现，尤其是防御代码的Bug。除此之外，契约能够明确地划分系统内各个部分职责，降低各模块的耦合程度，使程序有更好的鲁棒性和可维护性。</li>
</ol>
</li>
<li><p>缺点：</p>
<ol>
<li><strong>对契约完备性的要求高</strong><br>在契约式编程带来好处的同时，其对契约的完备性的要求较高。当契约存在漏洞的时候，每个模块不能想防御式编程对异常情况进行兼容式处理，因而极易导致程序出现意想不到的状况。<strong>契约式编程的优点成立的前提是有一个完备的契约系统</strong>。</li>
<li><strong>权责划分难度较大</strong><br>理想的契约式编程中，调用者和被调用者应当是平等的：各自都有自身的权利和义务，并且模块的权责是均衡的。但在设计阶段对模块的权责进行划分时要保证均衡地为每个模块划分权责的难度较大。这需要对整个程序有较全面的考量，而非从局部功能来设计模块的契约。</li>
</ol>
</li>
</ul>
<h4 id="契约式编程的应用"><a href="#契约式编程的应用" class="headerlink" title="契约式编程的应用"></a>契约式编程的应用</h4><ul>
<li>单词表接口契约：<br>&emsp;&emsp;其他模块在调用单词表模块的接口使需要保证传入的参数在相应的范围内（先验条件）。在满足先验条件的情况下，单词表模块保证能返回正确的查询结果，同时不破坏现有的单词表。</li>
</ul>
<hr>
<h2 id="计算模块部分单元测试展示"><a href="#计算模块部分单元测试展示" class="headerlink" title="计算模块部分单元测试展示"></a>计算模块部分单元测试展示</h2><p>&emsp;&emsp;笔者对工程中Core类的正确性以及封装后的dll的正确性进行了测试</p>
<ul>
<li>Core类测试集</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br></pre></td><td class="code"><pre><span class="line">TEST_CLASS(TEST)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"></span><br><span class="line">Core *CORE = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">TEST_METHOD_INITIALIZE(initEnv)</span><br><span class="line">&#123;</span><br><span class="line">	CORE = <span class="keyword">new</span> Core();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">TEST_METHOD_CLEANUP(cleanWordList)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">delete</span> CORE;</span><br><span class="line">	CORE = <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">TEST_METHOD(Test_1)				<span class="comment">// -w</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">string</span> words[] = &#123;</span><br><span class="line">		<span class="string">"ab"</span>,</span><br><span class="line">		<span class="string">"accccccccccccccccccccc"</span>,</span><br><span class="line">		<span class="string">"ad"</span>,</span><br><span class="line">		<span class="string">"bc"</span>,</span><br><span class="line">		<span class="string">"bd"</span>,</span><br><span class="line">		<span class="string">"cd"</span>,</span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="built_in">string</span> ans[] = &#123;</span><br><span class="line">		<span class="string">"ab"</span>, <span class="string">"bc"</span>, <span class="string">"cd"</span></span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; *lines = <span class="keyword">new</span> <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; *chain = <span class="keyword">new</span> <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">6</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		lines-&gt;push_back(words[i]);</span><br><span class="line">	&#125;</span><br><span class="line">	Assert::AreEqual(<span class="number">0</span>, CORE-&gt;gen_chain_word(*lines, *chain, <span class="number">0</span>, <span class="number">0</span>, <span class="literal">false</span>));</span><br><span class="line">	Assert::AreEqual(<span class="keyword">size_t</span>(<span class="number">3</span>), chain-&gt;size());</span><br><span class="line">	Assert::AreEqual(ans[<span class="number">0</span>], (*chain)[<span class="number">0</span>]);</span><br><span class="line">	Assert::AreEqual(ans[<span class="number">1</span>], (*chain)[<span class="number">1</span>]);</span><br><span class="line">	Assert::AreEqual(ans[<span class="number">2</span>], (*chain)[<span class="number">2</span>]);</span><br><span class="line">	<span class="keyword">delete</span> lines;</span><br><span class="line">	<span class="keyword">delete</span> chain;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">TEST_METHOD(Test_2)				<span class="comment">// -c</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">string</span> words[] = &#123;</span><br><span class="line">		<span class="string">"ab"</span>,</span><br><span class="line">		<span class="string">"accccccccccccccccccccc"</span>,</span><br><span class="line">		<span class="string">"ad"</span>,</span><br><span class="line">		<span class="string">"bc"</span>,</span><br><span class="line">		<span class="string">"bd"</span>,</span><br><span class="line">		<span class="string">"cd"</span>,</span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="built_in">string</span> ans[] = &#123;</span><br><span class="line">		<span class="string">"accccccccccccccccccccc"</span>, <span class="string">"cd"</span></span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; *lines = <span class="keyword">new</span> <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; *chain = <span class="keyword">new</span> <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">6</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		lines-&gt;push_back(words[i]);</span><br><span class="line">	&#125;</span><br><span class="line">	Assert::AreEqual(<span class="number">0</span>, CORE-&gt;gen_chain_char(*lines, *chain, <span class="number">0</span>, <span class="number">0</span>, <span class="literal">false</span>));</span><br><span class="line">	Assert::AreEqual(<span class="keyword">size_t</span>(<span class="number">2</span>), chain-&gt;size());</span><br><span class="line">	Assert::AreEqual(ans[<span class="number">0</span>], (*chain)[<span class="number">0</span>]);</span><br><span class="line">	Assert::AreEqual(ans[<span class="number">1</span>], (*chain)[<span class="number">1</span>]);</span><br><span class="line">	<span class="keyword">delete</span> lines;</span><br><span class="line">	<span class="keyword">delete</span> chain;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">TEST_METHOD(Test_3)				<span class="comment">// -w -h</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">string</span> words[] = &#123;</span><br><span class="line">		<span class="string">"ab"</span>,</span><br><span class="line">		<span class="string">"accccccccccccccccccccc"</span>,</span><br><span class="line">		<span class="string">"ad"</span>,</span><br><span class="line">		<span class="string">"bc"</span>,</span><br><span class="line">		<span class="string">"bdddd"</span>,</span><br><span class="line">		<span class="string">"cd"</span>,</span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="built_in">string</span> ans[] = &#123;</span><br><span class="line">		<span class="string">"bc"</span>, <span class="string">"cd"</span></span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; *lines = <span class="keyword">new</span> <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; *chain = <span class="keyword">new</span> <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">6</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		lines-&gt;push_back(words[i]);</span><br><span class="line">	&#125;</span><br><span class="line">	Assert::AreEqual(<span class="number">0</span>, CORE-&gt;gen_chain_word(*lines, *chain, <span class="string">'b'</span>, <span class="number">0</span>, <span class="literal">false</span>));</span><br><span class="line">	Assert::AreEqual(<span class="keyword">size_t</span>(<span class="number">2</span>), chain-&gt;size());</span><br><span class="line">	Assert::AreEqual(ans[<span class="number">0</span>], (*chain)[<span class="number">0</span>]);</span><br><span class="line">	Assert::AreEqual(ans[<span class="number">1</span>], (*chain)[<span class="number">1</span>]);</span><br><span class="line">	<span class="keyword">delete</span> lines;</span><br><span class="line">	<span class="keyword">delete</span> chain;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">TEST_METHOD(Test_4)				<span class="comment">// -c -h</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">string</span> words[] = &#123;</span><br><span class="line">		<span class="string">"ab"</span>,</span><br><span class="line">		<span class="string">"accccccccccccccccccccc"</span>,</span><br><span class="line">		<span class="string">"ad"</span>,</span><br><span class="line">		<span class="string">"bc"</span>,</span><br><span class="line">		<span class="string">"bdddd"</span>,</span><br><span class="line">		<span class="string">"cd"</span>,</span><br><span class="line">		<span class="string">"dd"</span>,</span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="built_in">string</span> ans[] = &#123;</span><br><span class="line">		<span class="string">"bdddd"</span>, <span class="string">"dd"</span></span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; *lines = <span class="keyword">new</span> <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; *chain = <span class="keyword">new</span> <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">7</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		lines-&gt;push_back(words[i]);</span><br><span class="line">	&#125;</span><br><span class="line">	Assert::AreEqual(<span class="number">0</span>, CORE-&gt;gen_chain_char(*lines, *chain, <span class="string">'b'</span>, <span class="number">0</span>, <span class="literal">false</span>));</span><br><span class="line">	Assert::AreEqual(<span class="keyword">size_t</span>(<span class="number">2</span>), chain-&gt;size());</span><br><span class="line">	Assert::AreEqual(ans[<span class="number">0</span>], (*chain)[<span class="number">0</span>]);</span><br><span class="line">	Assert::AreEqual(ans[<span class="number">1</span>], (*chain)[<span class="number">1</span>]);</span><br><span class="line">	<span class="keyword">delete</span> lines;</span><br><span class="line">	<span class="keyword">delete</span> chain;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">TEST_METHOD(Test_5)				<span class="comment">// -w -t</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">string</span> words[] = &#123;</span><br><span class="line">		<span class="string">"ab"</span>,</span><br><span class="line">		<span class="string">"accccccccccccccccccccc"</span>,</span><br><span class="line">		<span class="string">"ad"</span>,</span><br><span class="line">		<span class="string">"bc"</span>,</span><br><span class="line">		<span class="string">"bdddd"</span>,</span><br><span class="line">		<span class="string">"cd"</span>,</span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="built_in">string</span> ans[] = &#123;</span><br><span class="line">		<span class="string">"ab"</span>, <span class="string">"bc"</span></span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; *lines = <span class="keyword">new</span> <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; *chain = <span class="keyword">new</span> <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">6</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		lines-&gt;push_back(words[i]);</span><br><span class="line">	&#125;</span><br><span class="line">	Assert::AreEqual(<span class="number">0</span>, CORE-&gt;gen_chain_word(*lines, *chain, <span class="number">0</span>, <span class="string">'c'</span>, <span class="literal">false</span>));</span><br><span class="line">	Assert::AreEqual(<span class="keyword">size_t</span>(<span class="number">2</span>), chain-&gt;size());</span><br><span class="line">	Assert::AreEqual(ans[<span class="number">0</span>], (*chain)[<span class="number">0</span>]);</span><br><span class="line">	Assert::AreEqual(ans[<span class="number">1</span>], (*chain)[<span class="number">1</span>]);</span><br><span class="line">	<span class="keyword">delete</span> lines;</span><br><span class="line">	<span class="keyword">delete</span> chain;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">TEST_METHOD(Test_6)				<span class="comment">// -c -t</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">string</span> words[] = &#123;</span><br><span class="line">		<span class="string">"ab"</span>,</span><br><span class="line">		<span class="string">"accccccccccccccccccccc"</span>,</span><br><span class="line">		<span class="string">"ad"</span>,</span><br><span class="line">		<span class="string">"bc"</span>,</span><br><span class="line">		<span class="string">"bdddd"</span>,</span><br><span class="line">		<span class="string">"cd"</span>,</span><br><span class="line">		<span class="string">"cc"</span></span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="built_in">string</span> ans[] = &#123;</span><br><span class="line">		<span class="string">"accccccccccccccccccccc"</span>, <span class="string">"cc"</span></span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; *lines = <span class="keyword">new</span> <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; *chain = <span class="keyword">new</span> <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">7</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		lines-&gt;push_back(words[i]);</span><br><span class="line">	&#125;</span><br><span class="line">	Assert::AreEqual(<span class="number">0</span>, CORE-&gt;gen_chain_char(*lines, *chain, <span class="number">0</span>, <span class="string">'c'</span>, <span class="literal">false</span>));</span><br><span class="line">	Assert::AreEqual(<span class="keyword">size_t</span>(<span class="number">2</span>), chain-&gt;size());</span><br><span class="line">	Assert::AreEqual(ans[<span class="number">0</span>], (*chain)[<span class="number">0</span>]);</span><br><span class="line">	Assert::AreEqual(ans[<span class="number">1</span>], (*chain)[<span class="number">1</span>]);</span><br><span class="line">	<span class="keyword">delete</span> lines;</span><br><span class="line">	<span class="keyword">delete</span> chain;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">TEST_METHOD(Test_7)				<span class="comment">// -w -h -t</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">string</span> words[] = &#123;</span><br><span class="line">		<span class="string">"ab"</span>,</span><br><span class="line">		<span class="string">"accccccccccccccccccccc"</span>,</span><br><span class="line">		<span class="string">"ad"</span>,</span><br><span class="line">		<span class="string">"ae"</span>,</span><br><span class="line">		<span class="string">"bc"</span>,</span><br><span class="line">		<span class="string">"bdddd"</span>,</span><br><span class="line">		<span class="string">"be"</span>,</span><br><span class="line">		<span class="string">"cd"</span>,</span><br><span class="line">		<span class="string">"ce"</span>,</span><br><span class="line">		<span class="string">"de"</span></span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="built_in">string</span> ans[] = &#123;</span><br><span class="line">		<span class="string">"bc"</span>, <span class="string">"cd"</span></span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; *lines = <span class="keyword">new</span> <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; *chain = <span class="keyword">new</span> <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		lines-&gt;push_back(words[i]);</span><br><span class="line">	&#125;</span><br><span class="line">	Assert::AreEqual(<span class="number">0</span>, CORE-&gt;gen_chain_word(*lines, *chain, <span class="string">'b'</span>, <span class="string">'d'</span>, <span class="literal">false</span>));</span><br><span class="line">	Assert::AreEqual(<span class="keyword">size_t</span>(<span class="number">2</span>), chain-&gt;size());</span><br><span class="line">	Assert::AreEqual(ans[<span class="number">0</span>], (*chain)[<span class="number">0</span>]);</span><br><span class="line">	Assert::AreEqual(ans[<span class="number">1</span>], (*chain)[<span class="number">1</span>]);</span><br><span class="line">	<span class="keyword">delete</span> lines;</span><br><span class="line">	<span class="keyword">delete</span> chain;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">TEST_METHOD(Test_8)				<span class="comment">// -c -h -t</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">string</span> words[] = &#123;</span><br><span class="line">		<span class="string">"ab"</span>,</span><br><span class="line">		<span class="string">"accccccccccccccccccccc"</span>,</span><br><span class="line">		<span class="string">"ad"</span>,</span><br><span class="line">		<span class="string">"ae"</span>,</span><br><span class="line">		<span class="string">"bc"</span>,</span><br><span class="line">		<span class="string">"bdddd"</span>,</span><br><span class="line">		<span class="string">"be"</span>,</span><br><span class="line">		<span class="string">"cd"</span>,</span><br><span class="line">		<span class="string">"ce"</span>,</span><br><span class="line">		<span class="string">"de"</span>,</span><br><span class="line">		<span class="string">"dd"</span>,</span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="built_in">string</span> ans[] = &#123;</span><br><span class="line">		<span class="string">"bdddd"</span>, <span class="string">"dd"</span></span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; *lines = <span class="keyword">new</span> <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; *chain = <span class="keyword">new</span> <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">11</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		lines-&gt;push_back(words[i]);</span><br><span class="line">	&#125;</span><br><span class="line">	Assert::AreEqual(<span class="number">0</span>, CORE-&gt;gen_chain_char(*lines, *chain, <span class="string">'b'</span>, <span class="string">'d'</span>, <span class="literal">false</span>));</span><br><span class="line">	Assert::AreEqual(<span class="keyword">size_t</span>(<span class="number">2</span>), chain-&gt;size());</span><br><span class="line">	Assert::AreEqual(ans[<span class="number">0</span>], (*chain)[<span class="number">0</span>]);</span><br><span class="line">	Assert::AreEqual(ans[<span class="number">1</span>], (*chain)[<span class="number">1</span>]);</span><br><span class="line">	<span class="keyword">delete</span> lines;</span><br><span class="line">	<span class="keyword">delete</span> chain;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">TEST_METHOD(Test_9)				<span class="comment">// -w  but have ring</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">string</span> words[] = &#123;</span><br><span class="line">		<span class="string">"ab"</span>,</span><br><span class="line">		<span class="string">"accccccccccccccccccccc"</span>,</span><br><span class="line">		<span class="string">"ad"</span>,</span><br><span class="line">		<span class="string">"ae"</span>,</span><br><span class="line">		<span class="string">"bc"</span>,</span><br><span class="line">		<span class="string">"bdddd"</span>,</span><br><span class="line">		<span class="string">"db"</span>,</span><br><span class="line">		<span class="string">"be"</span>,</span><br><span class="line">		<span class="string">"cd"</span>,</span><br><span class="line">		<span class="string">"ce"</span>,</span><br><span class="line">		<span class="string">"de"</span></span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; *lines = <span class="keyword">new</span> <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; *chain = <span class="keyword">new</span> <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">11</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		lines-&gt;push_back(words[i]);</span><br><span class="line">	&#125;</span><br><span class="line">	Assert::AreEqual(<span class="number">-2</span>, CORE-&gt;gen_chain_word(*lines, *chain, <span class="number">0</span>, <span class="number">0</span>, <span class="literal">false</span>));</span><br><span class="line">	<span class="keyword">delete</span> lines;</span><br><span class="line">	<span class="keyword">delete</span> chain;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">TEST_METHOD(Test_10)				<span class="comment">// -c but have ring</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">string</span> words[] = &#123;</span><br><span class="line">		<span class="string">"ab"</span>,</span><br><span class="line">		<span class="string">"accccccccccccccccccccc"</span>,</span><br><span class="line">		<span class="string">"ad"</span>,</span><br><span class="line">		<span class="string">"ae"</span>,</span><br><span class="line">		<span class="string">"bc"</span>,</span><br><span class="line">		<span class="string">"bdddd"</span>,</span><br><span class="line">		<span class="string">"db"</span>,</span><br><span class="line">		<span class="string">"be"</span>,</span><br><span class="line">		<span class="string">"cd"</span>,</span><br><span class="line">		<span class="string">"ce"</span>,</span><br><span class="line">		<span class="string">"de"</span></span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; *lines = <span class="keyword">new</span> <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; *chain = <span class="keyword">new</span> <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">11</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		lines-&gt;push_back(words[i]);</span><br><span class="line">	&#125;</span><br><span class="line">	Assert::AreEqual(<span class="number">-2</span>, CORE-&gt;gen_chain_char(*lines, *chain, <span class="number">0</span>, <span class="number">0</span>, <span class="literal">false</span>));</span><br><span class="line">	<span class="keyword">delete</span> lines;</span><br><span class="line">	<span class="keyword">delete</span> chain;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">TEST_METHOD(Test_11)				<span class="comment">// -w have self</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">string</span> words[] = &#123;</span><br><span class="line">		<span class="string">"ab"</span>,</span><br><span class="line">		<span class="string">"accccccccccccccccccccc"</span>,</span><br><span class="line">		<span class="string">"ad"</span>,</span><br><span class="line">		<span class="string">"ae"</span>,</span><br><span class="line">		<span class="string">"bb"</span>,</span><br><span class="line">		<span class="string">"bc"</span>,</span><br><span class="line">		<span class="string">"bdddd"</span>,</span><br><span class="line">		<span class="string">"be"</span>,</span><br><span class="line">		<span class="string">"cc"</span>,</span><br><span class="line">		<span class="string">"cd"</span>,</span><br><span class="line">		<span class="string">"ce"</span>,</span><br><span class="line">		<span class="string">"dd"</span>,</span><br><span class="line">		<span class="string">"de"</span></span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="built_in">string</span> ans[] = &#123;</span><br><span class="line">		<span class="string">"ab"</span>, <span class="string">"bb"</span>, <span class="string">"bc"</span>, <span class="string">"cc"</span>, <span class="string">"cd"</span>, <span class="string">"dd"</span>, <span class="string">"de"</span></span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; *lines = <span class="keyword">new</span> <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; *chain = <span class="keyword">new</span> <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">13</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		lines-&gt;push_back(words[i]);</span><br><span class="line">	&#125;</span><br><span class="line">	Assert::AreEqual(<span class="number">0</span>, CORE-&gt;gen_chain_word(*lines, *chain, <span class="number">0</span>, <span class="number">0</span>, <span class="literal">false</span>));</span><br><span class="line">	Assert::AreEqual(<span class="keyword">size_t</span>(<span class="number">7</span>), chain-&gt;size());</span><br><span class="line">	Assert::AreEqual(ans[<span class="number">0</span>], (*chain)[<span class="number">0</span>]);</span><br><span class="line">	Assert::AreEqual(ans[<span class="number">1</span>], (*chain)[<span class="number">1</span>]);</span><br><span class="line">	Assert::AreEqual(ans[<span class="number">2</span>], (*chain)[<span class="number">2</span>]);</span><br><span class="line">	Assert::AreEqual(ans[<span class="number">3</span>], (*chain)[<span class="number">3</span>]);</span><br><span class="line">	Assert::AreEqual(ans[<span class="number">4</span>], (*chain)[<span class="number">4</span>]);</span><br><span class="line">	Assert::AreEqual(ans[<span class="number">5</span>], (*chain)[<span class="number">5</span>]);</span><br><span class="line">	Assert::AreEqual(ans[<span class="number">6</span>], (*chain)[<span class="number">6</span>]);</span><br><span class="line">	<span class="keyword">delete</span> lines;</span><br><span class="line">	<span class="keyword">delete</span> chain;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">TEST_METHOD(Test_12)&#123;				<span class="comment">// -c have self</span></span><br><span class="line">	<span class="built_in">string</span> words[] = &#123;</span><br><span class="line">		<span class="string">"ab"</span>,</span><br><span class="line">		<span class="string">"accccccccccccccccccccc"</span>,</span><br><span class="line">		<span class="string">"ad"</span>,</span><br><span class="line">		<span class="string">"ae"</span>,</span><br><span class="line">		<span class="string">"bb"</span>,</span><br><span class="line">		<span class="string">"bc"</span>,</span><br><span class="line">		<span class="string">"bdddd"</span>,</span><br><span class="line">		<span class="string">"be"</span>,</span><br><span class="line">		<span class="string">"cc"</span>,</span><br><span class="line">		<span class="string">"cd"</span>,</span><br><span class="line">		<span class="string">"ce"</span>,</span><br><span class="line">		<span class="string">"dd"</span>,</span><br><span class="line">		<span class="string">"de"</span></span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="built_in">string</span> ans[] = &#123;</span><br><span class="line">		<span class="string">"accccccccccccccccccccc"</span>, <span class="string">"cc"</span>, <span class="string">"cd"</span>, <span class="string">"dd"</span>, <span class="string">"de"</span></span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; *lines = <span class="keyword">new</span> <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; *chain = <span class="keyword">new</span> <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">13</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		lines-&gt;push_back(words[i]);</span><br><span class="line">	&#125;</span><br><span class="line">	Assert::AreEqual(<span class="number">0</span>, CORE-&gt;gen_chain_char(*lines, *chain, <span class="number">0</span>, <span class="number">0</span>, <span class="literal">false</span>));</span><br><span class="line">	Assert::AreEqual(<span class="keyword">size_t</span>(<span class="number">5</span>), chain-&gt;size());</span><br><span class="line">	Assert::AreEqual(ans[<span class="number">0</span>], (*chain)[<span class="number">0</span>]);</span><br><span class="line">	Assert::AreEqual(ans[<span class="number">1</span>], (*chain)[<span class="number">1</span>]);</span><br><span class="line">	Assert::AreEqual(ans[<span class="number">2</span>], (*chain)[<span class="number">2</span>]);</span><br><span class="line">	Assert::AreEqual(ans[<span class="number">3</span>], (*chain)[<span class="number">3</span>]);</span><br><span class="line">	Assert::AreEqual(ans[<span class="number">4</span>], (*chain)[<span class="number">4</span>]);</span><br><span class="line">	<span class="keyword">delete</span> lines;</span><br><span class="line">	<span class="keyword">delete</span> chain;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">TEST_METHOD(Test_13)				<span class="comment">// -w -r</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">string</span> words[] = &#123;</span><br><span class="line">		<span class="string">"ab"</span>, <span class="string">"aaaaabbbbbccccc"</span>, <span class="string">"aaaaaddddd"</span>,</span><br><span class="line">		<span class="string">"bc"</span>,</span><br><span class="line">		<span class="string">"cb"</span>, <span class="string">"cd"</span>,</span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="built_in">string</span> ans[] = &#123;</span><br><span class="line">		<span class="string">"aaaaabbbbbccccc"</span>, <span class="string">"cb"</span>, <span class="string">"bc"</span>, <span class="string">"cd"</span></span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; *lines = <span class="keyword">new</span> <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; *chain = <span class="keyword">new</span> <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">6</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		lines-&gt;push_back(words[i]);</span><br><span class="line">	&#125;</span><br><span class="line">	Assert::AreEqual(<span class="number">0</span>, CORE-&gt;gen_chain_word(*lines, *chain, <span class="number">0</span>, <span class="number">0</span>, <span class="literal">true</span>));</span><br><span class="line">	Assert::AreEqual(<span class="keyword">size_t</span>(<span class="number">4</span>), chain-&gt;size());</span><br><span class="line">	Assert::AreEqual(ans[<span class="number">0</span>], (*chain)[<span class="number">0</span>]);</span><br><span class="line">	Assert::AreEqual(ans[<span class="number">1</span>], (*chain)[<span class="number">1</span>]);</span><br><span class="line">	Assert::AreEqual(ans[<span class="number">2</span>], (*chain)[<span class="number">2</span>]);</span><br><span class="line">	Assert::AreEqual(ans[<span class="number">3</span>], (*chain)[<span class="number">3</span>]);</span><br><span class="line">	<span class="keyword">delete</span> lines;</span><br><span class="line">	<span class="keyword">delete</span> chain;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">TEST_METHOD(Test_14) &#123;				<span class="comment">// -c -r</span></span><br><span class="line">	<span class="built_in">string</span> words[] = &#123;</span><br><span class="line">		<span class="string">"ab"</span>, <span class="string">"aaaccc"</span>, <span class="string">"aaaaabbbbbcccccddddd"</span>,</span><br><span class="line">		<span class="string">"bc"</span>,</span><br><span class="line">		<span class="string">"cb"</span>, <span class="string">"cd"</span>,</span><br><span class="line">		<span class="string">"dd"</span>,</span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="built_in">string</span> ans[] = &#123;</span><br><span class="line">		<span class="string">"aaaaabbbbbcccccddddd"</span>, <span class="string">"dd"</span></span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; *lines = <span class="keyword">new</span> <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; *chain = <span class="keyword">new</span> <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">7</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		lines-&gt;push_back(words[i]);</span><br><span class="line">	&#125;</span><br><span class="line">	Assert::AreEqual(<span class="number">0</span>, CORE-&gt;gen_chain_char(*lines, *chain, <span class="number">0</span>, <span class="number">0</span>, <span class="literal">true</span>));</span><br><span class="line">	Assert::AreEqual(<span class="keyword">size_t</span>(<span class="number">2</span>), chain-&gt;size());</span><br><span class="line">	Assert::AreEqual(ans[<span class="number">0</span>], (*chain)[<span class="number">0</span>]);</span><br><span class="line">	Assert::AreEqual(ans[<span class="number">1</span>], (*chain)[<span class="number">1</span>]);</span><br><span class="line">	<span class="keyword">delete</span> lines;</span><br><span class="line">	<span class="keyword">delete</span> chain;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">TEST_METHOD(Test_15) &#123;				<span class="comment">// -w -r -h -t</span></span><br><span class="line">	<span class="built_in">string</span> words[] = &#123;</span><br><span class="line">		<span class="string">"ab"</span>,</span><br><span class="line">		<span class="string">"bccccccccccccccccccccccccccc"</span>, <span class="string">"bd"</span>,</span><br><span class="line">		<span class="string">"cd"</span>,</span><br><span class="line">		<span class="string">"da"</span>, <span class="string">"dc"</span>,</span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="built_in">string</span> ans[] = &#123;</span><br><span class="line">		<span class="string">"bd"</span>, <span class="string">"dc"</span>, <span class="string">"cd"</span>, <span class="string">"da"</span></span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; *lines = <span class="keyword">new</span> <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; *chain = <span class="keyword">new</span> <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">6</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		lines-&gt;push_back(words[i]);</span><br><span class="line">	&#125;</span><br><span class="line">	Assert::AreEqual(<span class="number">0</span>, CORE-&gt;gen_chain_word(*lines, *chain, <span class="string">'b'</span>, <span class="string">'a'</span>, <span class="literal">true</span>));</span><br><span class="line">	Assert::AreEqual(<span class="keyword">size_t</span>(<span class="number">4</span>), chain-&gt;size());</span><br><span class="line">	Assert::AreEqual(ans[<span class="number">0</span>], (*chain)[<span class="number">0</span>]);</span><br><span class="line">	Assert::AreEqual(ans[<span class="number">1</span>], (*chain)[<span class="number">1</span>]);</span><br><span class="line">	Assert::AreEqual(ans[<span class="number">2</span>], (*chain)[<span class="number">2</span>]);</span><br><span class="line">	Assert::AreEqual(ans[<span class="number">3</span>], (*chain)[<span class="number">3</span>]);</span><br><span class="line">	<span class="keyword">delete</span> lines;</span><br><span class="line">	<span class="keyword">delete</span> chain;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">TEST_METHOD(Test_16) &#123;				<span class="comment">// -c -r -h</span></span><br><span class="line">	<span class="built_in">string</span> words[] = &#123;</span><br><span class="line">		<span class="string">"ab"</span>,</span><br><span class="line">		<span class="string">"bccccccccccccccccccccccccccc"</span>, <span class="string">"bd"</span>,</span><br><span class="line">		<span class="string">"cd"</span>,</span><br><span class="line">		<span class="string">"da"</span>, <span class="string">"dc"</span>,</span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="built_in">string</span> ans[] = &#123;</span><br><span class="line">		<span class="string">"bccccccccccccccccccccccccccc"</span>,<span class="string">"cd"</span>, <span class="string">"da"</span></span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; *lines = <span class="keyword">new</span> <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; *chain = <span class="keyword">new</span> <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">6</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		lines-&gt;push_back(words[i]);</span><br><span class="line">	&#125;</span><br><span class="line">	Assert::AreEqual(<span class="number">0</span>, CORE-&gt;gen_chain_char(*lines, *chain, <span class="string">'b'</span>, <span class="string">'a'</span>, <span class="literal">true</span>));</span><br><span class="line">	Assert::AreEqual(<span class="keyword">size_t</span>(<span class="number">3</span>), chain-&gt;size());</span><br><span class="line">	Assert::AreEqual(ans[<span class="number">0</span>], (*chain)[<span class="number">0</span>]);</span><br><span class="line">	Assert::AreEqual(ans[<span class="number">1</span>], (*chain)[<span class="number">1</span>]);</span><br><span class="line">	Assert::AreEqual(ans[<span class="number">2</span>], (*chain)[<span class="number">2</span>]);</span><br><span class="line">	<span class="keyword">delete</span> lines;</span><br><span class="line">	<span class="keyword">delete</span> chain;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>拓扑排序测试</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">TEST_METHOD(TEST_TopoSort_1)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">string</span> str_list[] = &#123;</span><br><span class="line">		<span class="string">"aa"</span>, <span class="string">"abc"</span> , <span class="string">"cbd"</span>, <span class="string">"ddd"</span>, <span class="string">"da"</span></span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		WORDLIST-&gt;parseString(str_list[i]);</span><br><span class="line">	&#125;</span><br><span class="line">	dpSolve = <span class="keyword">new</span> DPSolve(WORDLIST, <span class="string">'w'</span>);</span><br><span class="line">	Assert::AreEqual(<span class="literal">false</span>, dpSolve-&gt;topoSort());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">TEST_METHOD(TEST_TopoSort_2)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">string</span> str_list[] = &#123;</span><br><span class="line">		<span class="string">"aa"</span>, <span class="string">"abc"</span> , <span class="string">"cbd"</span>, <span class="string">"ddd"</span>, <span class="string">"db"</span></span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		WORDLIST-&gt;parseString(str_list[i]);</span><br><span class="line">	&#125;</span><br><span class="line">	dpSolve = <span class="keyword">new</span> DPSolve(WORDLIST, <span class="string">'w'</span>);</span><br><span class="line">	Assert::AreEqual(<span class="literal">true</span>, dpSolve-&gt;topoSort());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>dll测试</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br></pre></td><td class="code"><pre><span class="line">TEST_METHOD(Test_1)				<span class="comment">// -w</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">char</span>* words[] = &#123;</span><br><span class="line">		<span class="string">"ab"</span>,</span><br><span class="line">		<span class="string">"accccccccccccccccccccc"</span>,</span><br><span class="line">		<span class="string">"ad"</span>,</span><br><span class="line">		<span class="string">"bc"</span>,</span><br><span class="line">		<span class="string">"bd"</span>,</span><br><span class="line">		<span class="string">"cd"</span>,</span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="keyword">char</span>* chain[<span class="number">100</span>];</span><br><span class="line">	<span class="keyword">char</span>* ans[] = &#123;</span><br><span class="line">		<span class="string">"ab"</span>, <span class="string">"bc"</span>, <span class="string">"cd"</span></span><br><span class="line">	&#125;;</span><br><span class="line">	Assert::AreEqual(<span class="number">3</span>, gen_chain_word(words, <span class="number">6</span>, chain, <span class="number">0</span>, <span class="number">0</span>, <span class="literal">false</span>));</span><br><span class="line">	Assert::AreEqual(<span class="number">0</span>, <span class="built_in">strcmp</span>(chain[<span class="number">0</span>], ans[<span class="number">0</span>]));</span><br><span class="line">	Assert::AreEqual(<span class="number">0</span>, <span class="built_in">strcmp</span>(chain[<span class="number">1</span>], ans[<span class="number">1</span>]));</span><br><span class="line">	Assert::AreEqual(<span class="number">0</span>, <span class="built_in">strcmp</span>(chain[<span class="number">2</span>], ans[<span class="number">2</span>]));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">TEST_METHOD(Test_2)				<span class="comment">// -c</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">char</span>* words[] = &#123;</span><br><span class="line">		<span class="string">"ab"</span>,</span><br><span class="line">		<span class="string">"accccccccccccccccccccc"</span>,</span><br><span class="line">		<span class="string">"ad"</span>,</span><br><span class="line">		<span class="string">"bc"</span>,</span><br><span class="line">		<span class="string">"bd"</span>,</span><br><span class="line">		<span class="string">"cd"</span>,</span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="keyword">char</span>* chain[<span class="number">100</span>];</span><br><span class="line">	<span class="keyword">char</span>* ans[] = &#123;</span><br><span class="line">		<span class="string">"accccccccccccccccccccc"</span>, <span class="string">"cd"</span></span><br><span class="line">	&#125;;</span><br><span class="line">	Assert::AreEqual(<span class="number">2</span>, gen_chain_char(words, <span class="number">6</span>, chain, <span class="number">0</span>, <span class="number">0</span>, <span class="literal">false</span>));</span><br><span class="line">	Assert::AreEqual(<span class="number">0</span>, <span class="built_in">strcmp</span>(chain[<span class="number">0</span>], ans[<span class="number">0</span>]));</span><br><span class="line">	Assert::AreEqual(<span class="number">0</span>, <span class="built_in">strcmp</span>(chain[<span class="number">1</span>], ans[<span class="number">1</span>]));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">TEST_METHOD(Test_3)				<span class="comment">// -w -h</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">char</span>* words[] = &#123;</span><br><span class="line">		<span class="string">"ab"</span>,</span><br><span class="line">		<span class="string">"accccccccccccccccccccc"</span>,</span><br><span class="line">		<span class="string">"ad"</span>,</span><br><span class="line">		<span class="string">"bc"</span>,</span><br><span class="line">		<span class="string">"bdddd"</span>,</span><br><span class="line">		<span class="string">"cd"</span>,</span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="keyword">char</span>* chain[<span class="number">100</span>];</span><br><span class="line">	<span class="keyword">char</span>* ans[] = &#123;</span><br><span class="line">		<span class="string">"bc"</span>, <span class="string">"cd"</span></span><br><span class="line">	&#125;;</span><br><span class="line">	Assert::AreEqual(<span class="number">2</span>, gen_chain_word(words, <span class="number">6</span>, chain, <span class="string">'b'</span>, <span class="number">0</span>, <span class="literal">false</span>));</span><br><span class="line">	Assert::AreEqual(<span class="number">0</span>, <span class="built_in">strcmp</span>(chain[<span class="number">0</span>], ans[<span class="number">0</span>]));</span><br><span class="line">	Assert::AreEqual(<span class="number">0</span>, <span class="built_in">strcmp</span>(chain[<span class="number">1</span>], ans[<span class="number">1</span>]));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">TEST_METHOD(Test_4)				<span class="comment">// -c -h</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">char</span>* words[] = &#123;</span><br><span class="line">		<span class="string">"ab"</span>,</span><br><span class="line">		<span class="string">"accccccccccccccccccccc"</span>,</span><br><span class="line">		<span class="string">"ad"</span>,</span><br><span class="line">		<span class="string">"bc"</span>,</span><br><span class="line">		<span class="string">"bdddd"</span>,</span><br><span class="line">		<span class="string">"cd"</span>,</span><br><span class="line">		<span class="string">"dd"</span>,</span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="keyword">char</span>* chain[<span class="number">100</span>];</span><br><span class="line">	<span class="keyword">char</span>* ans[] = &#123;</span><br><span class="line">		<span class="string">"bdddd"</span>, <span class="string">"dd"</span></span><br><span class="line">	&#125;;</span><br><span class="line">	Assert::AreEqual(<span class="number">2</span>, gen_chain_char(words, <span class="number">7</span>, chain, <span class="string">'b'</span>, <span class="number">0</span>, <span class="literal">false</span>));</span><br><span class="line">	Assert::AreEqual(<span class="number">0</span>, <span class="built_in">strcmp</span>(chain[<span class="number">0</span>], ans[<span class="number">0</span>]));</span><br><span class="line">	Assert::AreEqual(<span class="number">0</span>, <span class="built_in">strcmp</span>(chain[<span class="number">1</span>], ans[<span class="number">1</span>]));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">TEST_METHOD(Test_5)				<span class="comment">// -w -t</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">char</span>* words[] = &#123;</span><br><span class="line">		<span class="string">"ab"</span>,</span><br><span class="line">		<span class="string">"accccccccccccccccccccc"</span>,</span><br><span class="line">		<span class="string">"ad"</span>,</span><br><span class="line">		<span class="string">"bc"</span>,</span><br><span class="line">		<span class="string">"bdddd"</span>,</span><br><span class="line">		<span class="string">"cd"</span>,</span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="keyword">char</span>* chain[<span class="number">100</span>];</span><br><span class="line">	<span class="keyword">char</span>* ans[] = &#123;</span><br><span class="line">		<span class="string">"ab"</span>, <span class="string">"bc"</span></span><br><span class="line">	&#125;;</span><br><span class="line">	Assert::AreEqual(<span class="number">2</span>, gen_chain_word(words, <span class="number">6</span>, chain, <span class="number">0</span>, <span class="string">'c'</span>, <span class="literal">false</span>));</span><br><span class="line">	Assert::AreEqual(<span class="number">0</span>, <span class="built_in">strcmp</span>(chain[<span class="number">0</span>], ans[<span class="number">0</span>]));</span><br><span class="line">	Assert::AreEqual(<span class="number">0</span>, <span class="built_in">strcmp</span>(chain[<span class="number">1</span>], ans[<span class="number">1</span>]));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">TEST_METHOD(Test_6)				<span class="comment">// -c -t</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">char</span>* words[] = &#123;</span><br><span class="line">		<span class="string">"ab"</span>,</span><br><span class="line">		<span class="string">"accccccccccccccccccccc"</span>,</span><br><span class="line">		<span class="string">"ad"</span>,</span><br><span class="line">		<span class="string">"bc"</span>,</span><br><span class="line">		<span class="string">"bdddd"</span>,</span><br><span class="line">		<span class="string">"cd"</span>,</span><br><span class="line">		<span class="string">"cc"</span></span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="keyword">char</span>* chain[<span class="number">100</span>];</span><br><span class="line">	<span class="keyword">char</span>* ans[] = &#123;</span><br><span class="line">		<span class="string">"accccccccccccccccccccc"</span>, <span class="string">"cc"</span></span><br><span class="line">	&#125;;</span><br><span class="line">	Assert::AreEqual(<span class="number">2</span>, gen_chain_char(words, <span class="number">7</span>, chain, <span class="number">0</span>, <span class="string">'c'</span>, <span class="literal">false</span>));</span><br><span class="line">	Assert::AreEqual(<span class="number">0</span>, <span class="built_in">strcmp</span>(chain[<span class="number">0</span>], ans[<span class="number">0</span>]));</span><br><span class="line">	Assert::AreEqual(<span class="number">0</span>, <span class="built_in">strcmp</span>(chain[<span class="number">1</span>], ans[<span class="number">1</span>]));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">TEST_METHOD(Test_7)				<span class="comment">// -w -h -t</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">char</span>* words[] = &#123;</span><br><span class="line">		<span class="string">"ab"</span>,</span><br><span class="line">		<span class="string">"accccccccccccccccccccc"</span>,</span><br><span class="line">		<span class="string">"ad"</span>,</span><br><span class="line">		<span class="string">"ae"</span>,</span><br><span class="line">		<span class="string">"bc"</span>,</span><br><span class="line">		<span class="string">"bdddd"</span>,</span><br><span class="line">		<span class="string">"be"</span>,</span><br><span class="line">		<span class="string">"cd"</span>,</span><br><span class="line">		<span class="string">"ce"</span>,</span><br><span class="line">		<span class="string">"de"</span></span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="keyword">char</span>* chain[<span class="number">100</span>];</span><br><span class="line">	<span class="keyword">char</span>* ans[] = &#123;</span><br><span class="line">		<span class="string">"bc"</span>, <span class="string">"cd"</span></span><br><span class="line">	&#125;;</span><br><span class="line">	Assert::AreEqual(<span class="number">2</span>, gen_chain_word(words, <span class="number">10</span>, chain, <span class="string">'b'</span>, <span class="string">'d'</span>, <span class="literal">false</span>));</span><br><span class="line"></span><br><span class="line">	Assert::AreEqual(<span class="number">0</span>, <span class="built_in">strcmp</span>(chain[<span class="number">0</span>], ans[<span class="number">0</span>]));</span><br><span class="line">	Assert::AreEqual(<span class="number">0</span>, <span class="built_in">strcmp</span>(chain[<span class="number">1</span>], ans[<span class="number">1</span>]));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">TEST_METHOD(Test_8)				<span class="comment">// -c -h -t</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">char</span>* words[] = &#123;</span><br><span class="line">		<span class="string">"ab"</span>,</span><br><span class="line">		<span class="string">"accccccccccccccccccccc"</span>,</span><br><span class="line">		<span class="string">"ad"</span>,</span><br><span class="line">		<span class="string">"ae"</span>,</span><br><span class="line">		<span class="string">"bc"</span>,</span><br><span class="line">		<span class="string">"bdddd"</span>,</span><br><span class="line">		<span class="string">"be"</span>,</span><br><span class="line">		<span class="string">"cd"</span>,</span><br><span class="line">		<span class="string">"ce"</span>,</span><br><span class="line">		<span class="string">"de"</span>,</span><br><span class="line">		<span class="string">"dd"</span>,</span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="keyword">char</span>* chain[<span class="number">100</span>];</span><br><span class="line">	<span class="keyword">char</span>* ans[] = &#123;</span><br><span class="line">		<span class="string">"bdddd"</span>, <span class="string">"dd"</span></span><br><span class="line">	&#125;;</span><br><span class="line">	Assert::AreEqual(<span class="number">2</span>, gen_chain_char(words, <span class="number">11</span>, chain, <span class="string">'b'</span>, <span class="string">'d'</span>, <span class="literal">false</span>));</span><br><span class="line">	Assert::AreEqual(<span class="number">0</span>, <span class="built_in">strcmp</span>(chain[<span class="number">0</span>], ans[<span class="number">0</span>]));</span><br><span class="line">	Assert::AreEqual(<span class="number">0</span>, <span class="built_in">strcmp</span>(chain[<span class="number">1</span>], ans[<span class="number">1</span>]));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">TEST_METHOD(Test_9)				<span class="comment">// -w  but have ring</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">char</span>* words[] = &#123;</span><br><span class="line">		<span class="string">"ab"</span>,</span><br><span class="line">		<span class="string">"accccccccccccccccccccc"</span>,</span><br><span class="line">		<span class="string">"ad"</span>,</span><br><span class="line">		<span class="string">"ae"</span>,</span><br><span class="line">		<span class="string">"bc"</span>,</span><br><span class="line">		<span class="string">"bdddd"</span>,</span><br><span class="line">		<span class="string">"db"</span>,</span><br><span class="line">		<span class="string">"be"</span>,</span><br><span class="line">		<span class="string">"cd"</span>,</span><br><span class="line">		<span class="string">"ce"</span>,</span><br><span class="line">		<span class="string">"de"</span></span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="keyword">char</span>* chain[<span class="number">100</span>];</span><br><span class="line">	Assert::AreEqual(<span class="number">-4</span>, gen_chain_word(words, <span class="number">11</span>, chain, <span class="number">0</span>, <span class="number">0</span>, <span class="literal">false</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">TEST_METHOD(Test_10)				<span class="comment">// -c but have ring</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">char</span>* words[] = &#123;</span><br><span class="line">		<span class="string">"ab"</span>,</span><br><span class="line">		<span class="string">"accccccccccccccccccccc"</span>,</span><br><span class="line">		<span class="string">"ad"</span>,</span><br><span class="line">		<span class="string">"ae"</span>,</span><br><span class="line">		<span class="string">"bc"</span>,</span><br><span class="line">		<span class="string">"bdddd"</span>,</span><br><span class="line">		<span class="string">"db"</span>,</span><br><span class="line">		<span class="string">"be"</span>,</span><br><span class="line">		<span class="string">"cd"</span>,</span><br><span class="line">		<span class="string">"ce"</span>,</span><br><span class="line">		<span class="string">"de"</span></span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="keyword">char</span>* chain[<span class="number">100</span>];</span><br><span class="line">	Assert::AreEqual(<span class="number">-4</span>, gen_chain_char(words, <span class="number">11</span>, chain, <span class="number">0</span>, <span class="number">0</span>, <span class="literal">false</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">TEST_METHOD(Test_11)				<span class="comment">// -w have self</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">char</span>* words[] = &#123;</span><br><span class="line">		<span class="string">"ab"</span>,</span><br><span class="line">		<span class="string">"accccccccccccccccccccc"</span>,</span><br><span class="line">		<span class="string">"ad"</span>,</span><br><span class="line">		<span class="string">"ae"</span>,</span><br><span class="line">		<span class="string">"bb"</span>,</span><br><span class="line">		<span class="string">"bc"</span>,</span><br><span class="line">		<span class="string">"bdddd"</span>,</span><br><span class="line">		<span class="string">"be"</span>,</span><br><span class="line">		<span class="string">"cc"</span>,</span><br><span class="line">		<span class="string">"cd"</span>,</span><br><span class="line">		<span class="string">"ce"</span>,</span><br><span class="line">		<span class="string">"dd"</span>,</span><br><span class="line">		<span class="string">"de"</span></span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="keyword">char</span>* chain[<span class="number">100</span>];</span><br><span class="line">	<span class="keyword">char</span>* ans[] = &#123;</span><br><span class="line">		<span class="string">"ab"</span>, <span class="string">"bb"</span>, <span class="string">"bc"</span>, <span class="string">"cc"</span>, <span class="string">"cd"</span>, <span class="string">"dd"</span>, <span class="string">"de"</span></span><br><span class="line">	&#125;;</span><br><span class="line">	Assert::AreEqual(<span class="number">7</span>, gen_chain_word(words, <span class="number">13</span>, chain, <span class="number">0</span>, <span class="number">0</span>, <span class="literal">false</span>));</span><br><span class="line">	Assert::AreEqual(<span class="number">0</span>, <span class="built_in">strcmp</span>(chain[<span class="number">0</span>], ans[<span class="number">0</span>]));</span><br><span class="line">	Assert::AreEqual(<span class="number">0</span>, <span class="built_in">strcmp</span>(chain[<span class="number">1</span>], ans[<span class="number">1</span>]));</span><br><span class="line">	Assert::AreEqual(<span class="number">0</span>, <span class="built_in">strcmp</span>(chain[<span class="number">2</span>], ans[<span class="number">2</span>]));</span><br><span class="line">	Assert::AreEqual(<span class="number">0</span>, <span class="built_in">strcmp</span>(chain[<span class="number">3</span>], ans[<span class="number">3</span>]));</span><br><span class="line">	Assert::AreEqual(<span class="number">0</span>, <span class="built_in">strcmp</span>(chain[<span class="number">4</span>], ans[<span class="number">4</span>]));</span><br><span class="line">	Assert::AreEqual(<span class="number">0</span>, <span class="built_in">strcmp</span>(chain[<span class="number">5</span>], ans[<span class="number">5</span>]));</span><br><span class="line">	Assert::AreEqual(<span class="number">0</span>, <span class="built_in">strcmp</span>(chain[<span class="number">6</span>], ans[<span class="number">6</span>]));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">TEST_METHOD(Test_12) &#123;				<span class="comment">// -c have self</span></span><br><span class="line">	<span class="keyword">char</span>* words[] = &#123;</span><br><span class="line">		<span class="string">"ab"</span>,</span><br><span class="line">		<span class="string">"accccccccccccccccccccc"</span>,</span><br><span class="line">		<span class="string">"ad"</span>,</span><br><span class="line">		<span class="string">"ae"</span>,</span><br><span class="line">		<span class="string">"bb"</span>,</span><br><span class="line">		<span class="string">"bc"</span>,</span><br><span class="line">		<span class="string">"bdddd"</span>,</span><br><span class="line">		<span class="string">"be"</span>,</span><br><span class="line">		<span class="string">"cc"</span>,</span><br><span class="line">		<span class="string">"cd"</span>,</span><br><span class="line">		<span class="string">"ce"</span>,</span><br><span class="line">		<span class="string">"dd"</span>,</span><br><span class="line">		<span class="string">"de"</span></span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="keyword">char</span>* chain[<span class="number">100</span>];</span><br><span class="line">	<span class="keyword">char</span>* ans[] = &#123;</span><br><span class="line">		<span class="string">"accccccccccccccccccccc"</span>, <span class="string">"cc"</span>, <span class="string">"cd"</span>, <span class="string">"dd"</span>, <span class="string">"de"</span></span><br><span class="line">	&#125;;</span><br><span class="line">	Assert::AreEqual(<span class="number">5</span>, gen_chain_char(words, <span class="number">13</span>, chain, <span class="number">0</span>, <span class="number">0</span>, <span class="literal">false</span>));</span><br><span class="line">	Assert::AreEqual(<span class="number">0</span>, <span class="built_in">strcmp</span>(chain[<span class="number">0</span>], ans[<span class="number">0</span>]));</span><br><span class="line">	Assert::AreEqual(<span class="number">0</span>, <span class="built_in">strcmp</span>(chain[<span class="number">1</span>], ans[<span class="number">1</span>]));</span><br><span class="line">	Assert::AreEqual(<span class="number">0</span>, <span class="built_in">strcmp</span>(chain[<span class="number">2</span>], ans[<span class="number">2</span>]));</span><br><span class="line">	Assert::AreEqual(<span class="number">0</span>, <span class="built_in">strcmp</span>(chain[<span class="number">3</span>], ans[<span class="number">3</span>]));</span><br><span class="line">	Assert::AreEqual(<span class="number">0</span>, <span class="built_in">strcmp</span>(chain[<span class="number">4</span>], ans[<span class="number">4</span>]));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">TEST_METHOD(Test_13)				<span class="comment">// -w -r</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">char</span>* words[] = &#123;</span><br><span class="line">		<span class="string">"ab"</span>, <span class="string">"aaaaabbbbbccccc"</span>, <span class="string">"aaaaaddddd"</span>,</span><br><span class="line">		<span class="string">"bc"</span>,</span><br><span class="line">		<span class="string">"cb"</span>, <span class="string">"cd"</span>,</span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="keyword">char</span>* chain[<span class="number">100</span>];</span><br><span class="line">	<span class="keyword">char</span>* ans[] = &#123;</span><br><span class="line">		<span class="string">"aaaaabbbbbccccc"</span>, <span class="string">"cb"</span>, <span class="string">"bc"</span>, <span class="string">"cd"</span></span><br><span class="line">	&#125;;</span><br><span class="line">	Assert::AreEqual(<span class="number">4</span>, gen_chain_word(words, <span class="number">6</span>, chain, <span class="number">0</span>, <span class="number">0</span>, <span class="literal">true</span>));</span><br><span class="line">	Assert::AreEqual(<span class="number">0</span>, <span class="built_in">strcmp</span>(chain[<span class="number">0</span>], ans[<span class="number">0</span>]));</span><br><span class="line">	Assert::AreEqual(<span class="number">0</span>, <span class="built_in">strcmp</span>(chain[<span class="number">1</span>], ans[<span class="number">1</span>]));</span><br><span class="line">	Assert::AreEqual(<span class="number">0</span>, <span class="built_in">strcmp</span>(chain[<span class="number">2</span>], ans[<span class="number">2</span>]));</span><br><span class="line">	Assert::AreEqual(<span class="number">0</span>, <span class="built_in">strcmp</span>(chain[<span class="number">3</span>], ans[<span class="number">3</span>]));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">TEST_METHOD(Test_14) &#123;				<span class="comment">// -c -r</span></span><br><span class="line">	<span class="keyword">char</span>* words[] = &#123;</span><br><span class="line">		<span class="string">"ab"</span>, <span class="string">"aaaccc"</span>, <span class="string">"aaaaabbbbbcccccddddd"</span>,</span><br><span class="line">		<span class="string">"bc"</span>,</span><br><span class="line">		<span class="string">"cb"</span>, <span class="string">"cd"</span>,</span><br><span class="line">		<span class="string">"dd"</span>,</span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="keyword">char</span>* ans[] = &#123;</span><br><span class="line">		<span class="string">"aaaaabbbbbcccccddddd"</span>, <span class="string">"dd"</span></span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="keyword">char</span>* chain[<span class="number">100</span>];</span><br><span class="line">	Assert::AreEqual(<span class="number">2</span>, gen_chain_char(words, <span class="number">7</span>, chain, <span class="number">0</span>, <span class="number">0</span>, <span class="literal">true</span>));</span><br><span class="line">	Assert::AreEqual(<span class="number">0</span>, <span class="built_in">strcmp</span>(chain[<span class="number">0</span>], ans[<span class="number">0</span>]));</span><br><span class="line">	Assert::AreEqual(<span class="number">0</span>, <span class="built_in">strcmp</span>(chain[<span class="number">1</span>], ans[<span class="number">1</span>]));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">TEST_METHOD(Test_15) &#123;				<span class="comment">// -w -r -h -t</span></span><br><span class="line">	<span class="keyword">char</span>* words[] = &#123;</span><br><span class="line">		<span class="string">"ab"</span>,</span><br><span class="line">		<span class="string">"bccccccccccccccccccccccccccc"</span>, <span class="string">"bd"</span>,</span><br><span class="line">		<span class="string">"cd"</span>,</span><br><span class="line">		<span class="string">"da"</span>, <span class="string">"dc"</span>,</span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="keyword">char</span>* ans[] = &#123;</span><br><span class="line">		<span class="string">"bd"</span>, <span class="string">"dc"</span>, <span class="string">"cd"</span>, <span class="string">"da"</span></span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="keyword">char</span>* chain[<span class="number">100</span>];</span><br><span class="line">	Assert::AreEqual(<span class="number">4</span>, gen_chain_word(words, <span class="number">6</span>, chain, <span class="string">'b'</span>, <span class="string">'a'</span>, <span class="literal">true</span>));</span><br><span class="line">	Assert::AreEqual(<span class="number">0</span>, <span class="built_in">strcmp</span>(chain[<span class="number">0</span>], ans[<span class="number">0</span>]));</span><br><span class="line">	Assert::AreEqual(<span class="number">0</span>, <span class="built_in">strcmp</span>(chain[<span class="number">1</span>], ans[<span class="number">1</span>]));</span><br><span class="line">	Assert::AreEqual(<span class="number">0</span>, <span class="built_in">strcmp</span>(chain[<span class="number">2</span>], ans[<span class="number">2</span>]));</span><br><span class="line">	Assert::AreEqual(<span class="number">0</span>, <span class="built_in">strcmp</span>(chain[<span class="number">3</span>], ans[<span class="number">3</span>]));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">TEST_METHOD(Test_16) &#123;				<span class="comment">// -c -r -h</span></span><br><span class="line">	<span class="keyword">char</span>* words[] = &#123;</span><br><span class="line">		<span class="string">"ab"</span>,</span><br><span class="line">		<span class="string">"bccccccccccccccccccccccccccc"</span>, <span class="string">"bd"</span>,</span><br><span class="line">		<span class="string">"cd"</span>,</span><br><span class="line">		<span class="string">"da"</span>, <span class="string">"dc"</span>,</span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="keyword">char</span>* ans[] = &#123;</span><br><span class="line">		<span class="string">"bccccccccccccccccccccccccccc"</span>,<span class="string">"cd"</span>, <span class="string">"da"</span></span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="keyword">char</span>* chain[<span class="number">100</span>];</span><br><span class="line">	Assert::AreEqual(<span class="number">3</span>, gen_chain_char(words, <span class="number">6</span>, chain, <span class="string">'b'</span>, <span class="string">'a'</span>, <span class="literal">true</span>));</span><br><span class="line">	Assert::AreEqual(<span class="number">0</span>, <span class="built_in">strcmp</span>(chain[<span class="number">0</span>], ans[<span class="number">0</span>]));</span><br><span class="line">	Assert::AreEqual(<span class="number">0</span>, <span class="built_in">strcmp</span>(chain[<span class="number">1</span>], ans[<span class="number">1</span>]));</span><br><span class="line">	Assert::AreEqual(<span class="number">0</span>, <span class="built_in">strcmp</span>(chain[<span class="number">2</span>], ans[<span class="number">2</span>]));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;以下是测试时代码覆盖率及测试结果。</p>
<p><code>覆盖率截图</code></p>
<p><code>测试结果</code></p>
<hr>
<h2 id="计算模块部分异常处理说明"><a href="#计算模块部分异常处理说明" class="headerlink" title="计算模块部分异常处理说明"></a>计算模块部分异常处理说明</h2><ul>
<li><p>异常种类：</p>
<ul>
<li>输入输出单词表有效性</li>
<li>参数（head、tail）有效性</li>
<li>无环情况搜索到环</li>
<li>未搜索到单词链</li>
</ul>
</li>
<li><p>异常测试：</p>
<ul>
<li>输入输出单词表有效性测试</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">TEST_METHOD(Test_1)</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="keyword">char</span>* words[] = &#123;</span><br><span class="line">        <span class="literal">NULL</span>,</span><br><span class="line">        <span class="literal">NULL</span>,</span><br><span class="line">        <span class="string">"ad"</span>,</span><br><span class="line">        <span class="string">"bc"</span>,</span><br><span class="line">        <span class="string">"bd"</span>,</span><br><span class="line">        <span class="string">"cd"</span>,</span><br><span class="line">      &#125;;</span><br><span class="line">      <span class="keyword">char</span>* chain[<span class="number">100</span>];</span><br><span class="line">      Assert::AreEqual(<span class="number">-3</span>, gen_chain_word(words, <span class="number">6</span>, chain, <span class="number">0</span>, <span class="number">0</span>, <span class="literal">false</span>));</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>参数有效性测试</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">TEST_METHOD(Test_2)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">char</span>* words[] = &#123;</span><br><span class="line">		<span class="string">"ab"</span>,</span><br><span class="line">		<span class="string">"accccccccccccccccccccc"</span>,</span><br><span class="line">		<span class="string">"ad"</span>,</span><br><span class="line">		<span class="string">"bc"</span>,</span><br><span class="line">		<span class="string">"bd"</span>,</span><br><span class="line">		<span class="string">"cd"</span>,</span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="keyword">char</span>* chain[<span class="number">100</span>];</span><br><span class="line">	Assert::AreEqual(<span class="number">-1</span>, gen_chain_word(words, <span class="number">6</span>, chain, <span class="string">'-'</span>, <span class="number">0</span>, <span class="literal">false</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">TEST_METHOD(Test_3)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">char</span>* words[] = &#123;</span><br><span class="line">		<span class="string">"ab"</span>,</span><br><span class="line">		<span class="string">"accccccccccccccccccccc"</span>,</span><br><span class="line">		<span class="string">"ad"</span>,</span><br><span class="line">		<span class="string">"bc"</span>,</span><br><span class="line">		<span class="string">"bd"</span>,</span><br><span class="line">		<span class="string">"cd"</span>,</span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="keyword">char</span>* chain[<span class="number">100</span>];</span><br><span class="line">	Assert::AreEqual(<span class="number">-2</span>, gen_chain_word(words, <span class="number">6</span>, chain, <span class="number">0</span>, <span class="string">'-'</span>, <span class="literal">false</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>环识别测试</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">TEST_METHOD(Test_6)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">char</span>* words[] = &#123;</span><br><span class="line">		<span class="string">"ab"</span>,</span><br><span class="line">		<span class="string">"accccccccccccccccccccc"</span>,</span><br><span class="line">		<span class="string">"ba"</span>,</span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="keyword">char</span>* chain[<span class="number">100</span>];</span><br><span class="line">	Assert::AreEqual(<span class="number">-4</span>, gen_chain_word(words, <span class="number">3</span>, chain, <span class="number">0</span>, <span class="number">0</span>, <span class="literal">false</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>未搜索到单词链测试</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">TEST_METHOD(Test_4)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">char</span>* words[] = &#123;</span><br><span class="line">		<span class="string">"ab"</span>,</span><br><span class="line">		<span class="string">"accccccccccccccccccccc"</span>,</span><br><span class="line">		<span class="string">"ad"</span>,</span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="keyword">char</span>* chain[<span class="number">100</span>];</span><br><span class="line">	Assert::AreEqual(<span class="number">-5</span>, gen_chain_word(words, <span class="number">3</span>, chain, <span class="number">0</span>, <span class="number">0</span>, <span class="literal">false</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<h2 id="界面模块设计"><a href="#界面模块设计" class="headerlink" title="界面模块设计"></a>界面模块设计</h2><p>&emsp;&emsp;界面模块设计主要采用C++的 QT模块，利用QT creator 先设计好主要的GUI界面之后，导出代码，然后针对每个控件编写相应的响应函数。GUI 实在64位的编译环境下编写，主要支持功能时直接输入框输入单词，和用户交互式的导入文本文件，也支持将程序运行的结果导出到用户指定文件中。</p>
<p>&emsp;&emsp;模块主要界面如下：</p>
<p><code>图片</code></p>
<p>&emsp;&emsp;其中主要的功能函数绑定在openfile writefile 以及 run 三个Button 上，界面代码如下:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">gui</span><span class="params">(QMainWindow *MainWindow)</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">       <span class="keyword">if</span> (MainWindow-&gt;objectName().isEmpty())</span><br><span class="line">           MainWindow-&gt;setObjectName(QStringLiteral(<span class="string">"MainWindow"</span>));</span><br><span class="line">       MainWindow-&gt;resize(<span class="number">661</span>, <span class="number">397</span>);</span><br><span class="line">       centralWidget = <span class="keyword">new</span> QWidget(MainWindow);</span><br><span class="line">       centralWidget-&gt;setObjectName(QStringLiteral(<span class="string">"centralWidget"</span>));</span><br><span class="line">       <span class="comment">//centralWidget = MainWindow;</span></span><br><span class="line">       textBrowser = <span class="keyword">new</span> QTextBrowser(centralWidget);</span><br><span class="line">       textBrowser-&gt;setObjectName(QStringLiteral(<span class="string">"textBrowser"</span>));</span><br><span class="line">       textBrowser-&gt;setGeometry(QRect(<span class="number">300</span>, <span class="number">50</span>, <span class="number">201</span>, <span class="number">221</span>));</span><br><span class="line">       textBrowser_2 = <span class="keyword">new</span> QTextEdit(centralWidget);</span><br><span class="line">       textBrowser_2-&gt;setObjectName(QStringLiteral(<span class="string">"textBrowser_2"</span>));</span><br><span class="line">       textBrowser_2-&gt;setGeometry(QRect(<span class="number">10</span>, <span class="number">50</span>, <span class="number">201</span>, <span class="number">221</span>));</span><br><span class="line">       checkBox = <span class="keyword">new</span> QCheckBox(centralWidget);</span><br><span class="line">       checkBox-&gt;setObjectName(QStringLiteral(<span class="string">"checkBox"</span>));</span><br><span class="line">       checkBox-&gt;setGeometry(QRect(<span class="number">540</span>, <span class="number">40</span>, <span class="number">71</span>, <span class="number">16</span>));</span><br><span class="line">       checkBox_2 = <span class="keyword">new</span> QCheckBox(centralWidget);</span><br><span class="line">       checkBox_2-&gt;setObjectName(QStringLiteral(<span class="string">"checkBox_2"</span>));</span><br><span class="line">       checkBox_2-&gt;setGeometry(QRect(<span class="number">540</span>, <span class="number">60</span>, <span class="number">71</span>, <span class="number">16</span>));</span><br><span class="line">       checkBox_3 = <span class="keyword">new</span> QCheckBox(centralWidget);</span><br><span class="line">       checkBox_3-&gt;setObjectName(QStringLiteral(<span class="string">"checkBox_3"</span>));</span><br><span class="line">       checkBox_3-&gt;setGeometry(QRect(<span class="number">540</span>, <span class="number">80</span>, <span class="number">71</span>, <span class="number">16</span>));</span><br><span class="line">       checkBox_4 = <span class="keyword">new</span> QCheckBox(centralWidget);</span><br><span class="line">       checkBox_4-&gt;setObjectName(QStringLiteral(<span class="string">"checkBox_4"</span>));</span><br><span class="line">       checkBox_4-&gt;setGeometry(QRect(<span class="number">540</span>, <span class="number">100</span>, <span class="number">71</span>, <span class="number">16</span>));</span><br><span class="line">       checkBox_5 = <span class="keyword">new</span> QCheckBox(centralWidget);</span><br><span class="line">       checkBox_5-&gt;setObjectName(QStringLiteral(<span class="string">"checkBox_5"</span>));</span><br><span class="line">       checkBox_5-&gt;setGeometry(QRect(<span class="number">540</span>, <span class="number">20</span>, <span class="number">71</span>, <span class="number">16</span>));</span><br><span class="line">       textEdit = <span class="keyword">new</span> QLineEdit(centralWidget);</span><br><span class="line">       textEdit-&gt;setObjectName(QStringLiteral(<span class="string">"textEdit"</span>));</span><br><span class="line">       textEdit-&gt;setGeometry(QRect(<span class="number">540</span>, <span class="number">140</span>, <span class="number">30</span>, <span class="number">30</span>));</span><br><span class="line">       textEdit_2 = <span class="keyword">new</span> QLineEdit(centralWidget);</span><br><span class="line">       textEdit_2-&gt;setObjectName(QStringLiteral(<span class="string">"textEdit_2"</span>));</span><br><span class="line">       textEdit_2-&gt;setGeometry(QRect(<span class="number">580</span>, <span class="number">140</span>, <span class="number">30</span>, <span class="number">30</span>));</span><br><span class="line">       label = <span class="keyword">new</span> QLabel(centralWidget);</span><br><span class="line">       label-&gt;setObjectName(QStringLiteral(<span class="string">"label"</span>));</span><br><span class="line">       label-&gt;setGeometry(QRect(<span class="number">540</span>, <span class="number">120</span>, <span class="number">31</span>, <span class="number">20</span>));</span><br><span class="line">       label_2 = <span class="keyword">new</span> QLabel(centralWidget);</span><br><span class="line">       label_2-&gt;setObjectName(QStringLiteral(<span class="string">"label_2"</span>));</span><br><span class="line">       label_2-&gt;setGeometry(QRect(<span class="number">580</span>, <span class="number">120</span>, <span class="number">31</span>, <span class="number">20</span>));</span><br><span class="line">       pushButton = <span class="keyword">new</span> QPushButton(centralWidget);</span><br><span class="line">       pushButton-&gt;setObjectName(QStringLiteral(<span class="string">"pushButton"</span>));</span><br><span class="line">       pushButton-&gt;setGeometry(QRect(<span class="number">70</span>, <span class="number">10</span>, <span class="number">75</span>, <span class="number">23</span>));</span><br><span class="line">       pushButton_2 = <span class="keyword">new</span> QPushButton(centralWidget);</span><br><span class="line">       pushButton_2-&gt;setObjectName(QStringLiteral(<span class="string">"pushButton_2"</span>));</span><br><span class="line">       pushButton_2-&gt;setGeometry(QRect(<span class="number">360</span>, <span class="number">10</span>, <span class="number">75</span>, <span class="number">23</span>));</span><br><span class="line">       pushButton_3 = <span class="keyword">new</span> QPushButton(centralWidget);</span><br><span class="line">       pushButton_3-&gt;setObjectName(QStringLiteral(<span class="string">"pushButton_3"</span>));</span><br><span class="line">       pushButton_3-&gt;setGeometry(QRect(<span class="number">220</span>, <span class="number">130</span>, <span class="number">75</span>, <span class="number">23</span>));</span><br><span class="line">       MainWindow-&gt;setCentralWidget(centralWidget);</span><br><span class="line">       menuBar = <span class="keyword">new</span> QMenuBar(MainWindow);</span><br><span class="line">       menuBar-&gt;setObjectName(QStringLiteral(<span class="string">"menuBar"</span>));</span><br><span class="line">       menuBar-&gt;setGeometry(QRect(<span class="number">0</span>, <span class="number">0</span>, <span class="number">661</span>, <span class="number">23</span>));</span><br><span class="line">       MainWindow-&gt;setMenuBar(menuBar);</span><br><span class="line">       mainToolBar = <span class="keyword">new</span> QToolBar(MainWindow);</span><br><span class="line">       mainToolBar-&gt;setObjectName(QStringLiteral(<span class="string">"mainToolBar"</span>));</span><br><span class="line">       MainWindow-&gt;addToolBar(Qt::TopToolBarArea, mainToolBar);</span><br><span class="line">       statusBar = <span class="keyword">new</span> QStatusBar(MainWindow);</span><br><span class="line">       statusBar-&gt;setObjectName(QStringLiteral(<span class="string">"statusBar"</span>));</span><br><span class="line">       MainWindow-&gt;setStatusBar(statusBar);</span><br><span class="line">       retranslateUi(MainWindow);</span><br><span class="line"></span><br><span class="line">       QMetaObject::connectSlotsByName(MainWindow);</span><br><span class="line">   &#125; <span class="comment">// setupUi</span></span><br></pre></td></tr></table></figure>
<h3 id="openfie"><a href="#openfie" class="headerlink" title="openfie"></a>openfie</h3><p>&emsp;&emsp;该 button 绑定了导入输入文件的函数，可以方便让用户直接导入自己的输入数据，代码实现如下：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> MainWindow::openfile()</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">  QString fileName = QFileDialog::getOpenFileName(<span class="keyword">this</span>,tr(<span class="string">"choose log"</span>),<span class="string">""</span>,tr(<span class="string">"TXT(*.txt)"</span>));</span><br><span class="line">  <span class="keyword">if</span> (fileName.isEmpty())</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">  <span class="function">QFile <span class="title">file</span><span class="params">(fileName)</span></span>;</span><br><span class="line">  <span class="keyword">if</span> (file.open(QIODevice::ReadOnly | QIODevice::Text))</span><br><span class="line">  &#123;</span><br><span class="line">      <span class="keyword">while</span> (!file.atEnd())</span><br><span class="line">      &#123;</span><br><span class="line"></span><br><span class="line">          QByteArray line = file.readLine();</span><br><span class="line">          <span class="function">QString <span class="title">str</span><span class="params">(line)</span></span>;</span><br><span class="line"></span><br><span class="line">          <span class="comment">//qDebug() &lt;&lt; str;;</span></span><br><span class="line">          <span class="keyword">this</span>-&gt;textBrowser_2-&gt;insertPlainText(str);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      file.close();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="writefile"><a href="#writefile" class="headerlink" title="writefile"></a>writefile</h3><p>&emsp;&emsp;该 button 绑定了导入结果数据的函数，可以方便让用户直接导出函数的运行结果，代码实现如下：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> MainWindow::writefile()</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">  QString fileName = QFileDialog::getOpenFileName(<span class="keyword">this</span>,tr(<span class="string">"choose log"</span>),<span class="string">""</span>,tr(<span class="string">"TXT(*.txt)"</span>));</span><br><span class="line">  <span class="keyword">if</span> (fileName.isEmpty())</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">  <span class="function">QFile <span class="title">file</span><span class="params">(fileName)</span></span>;</span><br><span class="line">  <span class="keyword">if</span> (file.open(QIODevice::ReadOnly | QIODevice::Text))</span><br><span class="line">  &#123;</span><br><span class="line">      <span class="keyword">while</span> (!file.atEnd())</span><br><span class="line">      &#123;</span><br><span class="line"></span><br><span class="line">          QByteArray line = file.readLine();</span><br><span class="line">          <span class="function">QString <span class="title">str</span><span class="params">(line)</span></span>;</span><br><span class="line"></span><br><span class="line">          <span class="comment">//qDebug() &lt;&lt; str;;</span></span><br><span class="line">          <span class="keyword">this</span>-&gt;textBrowser_2-&gt;insertPlainText(str);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      file.close();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="run"><a href="#run" class="headerlink" title="run"></a>run</h3><p>&emsp;&emsp;该button绑定的函数调用了Core.dll中的函数，实现了对数据的处理与计算。代码如下：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> MainWindow::run()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="function">QLibrary <span class="title">mylib</span><span class="params">(<span class="string">"Core.dll"</span>)</span></span>;</span><br><span class="line">    mylib.load();</span><br><span class="line">     <span class="comment">//加载动态库</span></span><br><span class="line">     <span class="keyword">if</span> (!mylib.isLoaded())</span><br><span class="line">     &#123;</span><br><span class="line">         qDebug()&lt;&lt;QString(<span class="string">"Load Oracle oci.dll failed!\n"</span>);</span><br><span class="line">         <span class="keyword">return</span> ;</span><br><span class="line">     &#125;</span><br><span class="line">    p_gen_chain_word get_chain_word=(p_gen_chain_word)mylib.resolve(<span class="string">"gen_chain_word"</span>);</span><br><span class="line">    p_gen_chain_char get_chain_char=(p_gen_chain_char)mylib.resolve(<span class="string">"gen_chain_char"</span>);</span><br><span class="line">    <span class="keyword">char</span> head = <span class="string">'\0'</span>,end = <span class="string">'\0'</span>;</span><br><span class="line">    <span class="keyword">char</span>* words[<span class="number">10000</span>];</span><br><span class="line">    <span class="keyword">char</span>* result[<span class="number">10000</span>];</span><br><span class="line">    <span class="keyword">bool</span> b_w = <span class="keyword">this</span>-&gt;checkBox-&gt;isChecked()==<span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">bool</span> b_c = <span class="keyword">this</span>-&gt;checkBox_2-&gt;isChecked()==<span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">bool</span> b_h = <span class="keyword">this</span>-&gt;checkBox_3-&gt;isChecked()==<span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">b_t</span> = <span class="keyword">this</span>-&gt;checkBox_4-&gt;isChecked()==<span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">bool</span> b_r = <span class="keyword">this</span>-&gt;checkBox_5-&gt;isChecked()==<span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">if</span>(b_w &amp;&amp; b_c)</span><br><span class="line">    &#123;</span><br><span class="line">        QMessageBox:: information(<span class="literal">NULL</span>,<span class="string">"Error"</span>,<span class="string">"can't choose w and c at the same time"</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(!b_w &amp;&amp; !b_c)</span><br><span class="line">    &#123;</span><br><span class="line">        QMessageBox:: information(<span class="literal">NULL</span>,<span class="string">"Error"</span>,<span class="string">"need a w or cs"</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(b_h)</span><br><span class="line">    &#123;</span><br><span class="line">        QByteArray head_text = <span class="keyword">this</span>-&gt;textEdit-&gt;text().toLower().toLatin1();</span><br><span class="line">        head = head_text.data()[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">if</span>(!(head&gt;=<span class="string">'a'</span> &amp;&amp; head &lt;=<span class="string">'z'</span>))</span><br><span class="line">        &#123;</span><br><span class="line">            QMessageBox:: information(<span class="literal">NULL</span>,<span class="string">"Error"</span>,<span class="string">"head must in a-z"</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">b_t</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        QByteArray head_text = <span class="keyword">this</span>-&gt;textEdit_2-&gt;text().toLower().toLatin1();</span><br><span class="line">        end = head_text.data()[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">if</span>(!(head&gt;=<span class="string">'a'</span> &amp;&amp; head &lt;=<span class="string">'z'</span>))</span><br><span class="line">        &#123;</span><br><span class="line">            QMessageBox:: information(<span class="literal">NULL</span>,<span class="string">"Error"</span>,<span class="string">"tail must in a-z"</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    QStringList text = <span class="keyword">this</span>-&gt;textBrowser_2-&gt;toPlainText().split(<span class="string">"\n"</span>);</span><br><span class="line">    <span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> word_num = String2Char(text,words);</span><br><span class="line">    <span class="keyword">if</span>(b_w)</span><br><span class="line">    &#123;</span><br><span class="line">        len = get_chain_word(words,word_num,result,head,end,b_r);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(b_c)</span><br><span class="line">    &#123;</span><br><span class="line">        len = get_chain_char(words,word_num,result,head,end,b_r);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(len&lt;=<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(len == <span class="number">-4</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            QMessageBox:: information(<span class="literal">NULL</span>,<span class="string">"Error"</span>,<span class="string">"shouldn't have circles"</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(len == <span class="number">-5</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            QMessageBox:: information(<span class="literal">NULL</span>,<span class="string">"Error"</span>,<span class="string">"Chain don't exist"</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        QMessageBox:: information(<span class="literal">NULL</span>,<span class="string">"Error"</span>,<span class="string">"unkown error! please input valid data"</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    qDebug()&lt;&lt;len;</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">this</span>-&gt;textBrowser-&gt;clear();</span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>;i&lt;len;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="built_in">string</span> <span class="title">a</span><span class="params">(result[i])</span></span>;</span><br><span class="line">        <span class="keyword">this</span>-&gt;textBrowser-&gt;append(QString::fromStdString(a));</span><br><span class="line">        qDebug()&lt;&lt;QString::fromStdString(a);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="界面模块与计算模块对接"><a href="#界面模块与计算模块对接" class="headerlink" title="界面模块与计算模块对接"></a>界面模块与计算模块对接</h2><p>&emsp;&emsp;笔者小组同其他小组（16061161-15231112组和16061173-16061135组）进行了计算模块dll的交换。由于两个小组在项目开始前就对接口部分进行了讨论，在接口各参数、返回值以及功能上达成了共识，即<em>计算接口设计</em>部分所述。由于完成所有模块的设计及dll打包后，笔者在本小组的测试程序以及GUI上对dll进行了导入测试，在进入与其他小组对接阶段时并未遇到严重BUG，但在这过程中也遇到了一些小问题。</p>
<ul>
<li><p>打包dll和GUI模块所支持处理器不同。<br>&emsp;&emsp;在最初打包dll时未注意X86和X64以及Debug和Release版本间的区别，打包出错误版本的dll，导致GUI无法导入dll。在复核了版本后就解决了这一问题。</p>
</li>
<li><p>异常处理问题。<br>&emsp;&emsp;笔者小组采用Qt Creater进行GUI部分的开发，而后端进行Visual Studio进行开发。前者对于dll抛出异常的支持较差，容易导致程序出错。在采用返回值返回错误信息的方式后解决了这一问题。</p>
</li>
</ul>
<p><code>附对接图片</code></p>
<p><code>附对接图片</code></p>
<hr>
<h2 id="开发过程总览"><a href="#开发过程总览" class="headerlink" title="开发过程总览"></a>开发过程总览</h2><p>&emsp;&emsp;在结对之前，笔者和结对伙伴就已经认识，但从未在程序开发上进行合作。本次结对编程应当是小组两人第一次合作开发。以下是按照项目开发的里程碑来总览笔者小组开发的历程。</p>
<ul>
<li><p><strong>启动题目</strong><br>&emsp;&emsp;在结对题目刚出来时，我们很快就在一起对需求进行了讨论，很快就列出了最初的项目设计以及日程计划，开始了项目的推进。由于其他课程以及实验室任务等原因，我们并没有很多公共的时间进行结对开发，仅有每天晚上用大约6小时左右的时间一同编程。</p>
</li>
<li><p><strong>完成初版</strong><br>&emsp;&emsp;在项目启动后约两天，我们就按照最初的设计（设计见性能改进部分）实现了程序的基本功能。在实现的过程中，笔者按照单元测试的编写要求，编写并进行了单元测试，完成了第一版的测试集，供后期回归测试使用。</p>
</li>
<li><p><strong>优化算法</strong><br>&emsp;&emsp;由于最初的设计的时间复杂度较高，我们在完成初版的测试后便进入了算法的改进和优化的阶段。笔者将部分的功能改为使用动态规划算法实现，并根据搜索单词链的要求设计了不同的递推式。笔者的搭档将初版的深度搜索进行了优化以补充动态规划未涉及的功能。经过了约4天，我们基本完成了算法的优化，开始了新测试的编写以及进行回归测试。</p>
</li>
<li><p><strong>GUI开发和核心代码封装</strong><br>&emsp;&emsp;在算法优化的后半阶段，我们开始了GUI部分的同步开发以及计算模块的封装。这一部分是我们整个开发过程中最为艰难的阶段。我们在Qt环境的配置、dll的打包及使用上遇到了很多困难。主要在于dll类似于黑盒，我们在测试其是否打包成功并加载入Qt是耗费了很多时间。</p>
</li>
<li><p><strong>终版完成</strong><br>&emsp;&emsp;最终经过了两周的结对编程，笔者和搭档较好的完成了最长单词链的程序。在这过程中，由于是第一次结对编程前期的效率并不高。直到进入了优化阶段，我们在逐渐找到了结对编程的节奏，最终使用了约2000分钟完成了项目。</p>
</li>
</ul>
<p><code>两张照片</code></p>
<hr>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><h3 id="结对编程优缺点"><a href="#结对编程优缺点" class="headerlink" title="结对编程优缺点"></a>结对编程优缺点</h3><p>&emsp;&emsp;经过长达两周的结对编程，结合《构建之法》中对结对编程的描述以及这两周的亲身经历，笔者对于结对编程的优缺点有了以下的感想。  </p>
<ul>
<li><p><strong>两人合作，更易解决问题</strong><br>&emsp;&emsp;在编程的过程中，笔者两人一同遇到了许多的困难：从编程语言的使用，到算法的设计，再到代码的实现。相较于单人编程，两人同时对问题进行思考，通过讨论发现两人解决问题的漏洞，互补双方解决问题的方法，有效地解决问题。比如，在笔者同伙伴一起编写单词链搜索函数时对于每个代码分支，递归调用都进行了类似一人推演一人审核的模式，有效地突破了程序中的难点。</p>
</li>
<li><p><strong>相互学习，共同进步</strong><br>&emsp;&emsp;在进行结对编程时，每人都有一段时间负责在对方编程的过程中在旁边进行审核。在“旁审”队友编程的过程中，笔者从队友的编程方式吸取了许多有用的部分，比如算法实现的思路，代码编写习惯等。将这些优点融入到自己的编程中，优化了自己的编程方式。</p>
</li>
<li><p><strong>同时编程，降低沟通难度</strong><br>&emsp;&emsp;结对编程要求两人同时在一起进行开发。笔者与队友在大多数时间里是按照结对编程的要求一同编程。很明显能感觉到，自己很熟悉在这段时间的编写的代码，即使是对方在掌控键盘编写。在一定程度上，减少了两人阅读对方代码，询问如何使用对方代码时消耗的时间。相较之下，程序有一部分代码并不是两人一起编写的，在使用仅由对方编写的代码时常会产生许多的疑惑，需要在沟通上花费不少的时间。</p>
</li>
<li><p><strong>时间规划上存在难度</strong><br>&emsp;&emsp;结对开发的两人<strong>并不是一直能够抽出时间一同编程</strong>。时间的碎片化也增加了两人一同使用大块时间进行编程的难度。就笔者两人而言，在这两周中基本上只有晚上有可能同时有时间结对编程。而白天常常会是一人有空而另一人有事的情况。因而结对编程时，对于时间上的规划存在一定的难度。但是如果是在类似于公司的环境中进行结对编程，这个问题应当会减轻很多。</p>
</li>
<li><p><strong>工程量较大时，进度较难推进</strong><br>&emsp;&emsp;结对编程和分工开发就好比单线程与多线程。当任务的工作量较大，并且各模块的开发任务能分解为并行度较高的子任务的时候，很明显进行分工“多线程”开发的效率会高一些。再基于上一条，在面对工作量较大的任务，结对编程很有可能会在推进开发进度上出现困难。在笔者结对编程的前期，两人编程的效率是比较可观的，很快就完成了基本功能。但随之而来的测试、优化、回归测试、GUI绘制等等任务使得本来时间就不太富裕的结对编程出现的进度推进上的困难。最终笔者两人将部分任务的任务进行了分工开发，缓解结对任务的压力。</p>
</li>
</ul>
<h3 id="结对编程反思"><a href="#结对编程反思" class="headerlink" title="结对编程反思"></a>结对编程反思</h3><p>&emsp;&emsp;经过了两周的合作，笔者对自己和队友在结对编程中各自的亮点和不足进行了一下总结。</p>
<table>
<thead>
<tr>
<th style="text-align:left">队员</th>
<th style="text-align:left">优点</th>
<th style="text-align:left">不足</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">笔者</td>
<td style="text-align:left">1.代码编写规范 <br>2.吃苦耐劳 <br>3.积极推动项目 <br></td>
<td style="text-align:left">解决复杂算法问题能力有待加强</td>
</tr>
<tr>
<td style="text-align:left">队友</td>
<td style="text-align:left">1.算法能力强 <br>2.肝帝 <br>3.沟通能力强 <br></td>
<td style="text-align:left">经常打错字</td>
</tr>
</tbody>
</table>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/03/28/结对作业博客/" data-id="cjts58s6q0001bgtwek29eek3" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2019/03/28/hello-world/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Hello World</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/03/28/结对作业博客/">(no title)</a>
          </li>
        
          <li>
            <a href="/2019/03/28/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>